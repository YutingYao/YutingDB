å‚è€ƒï¼š[è®¾è®¡æºäºç”Ÿæ´»ä¸­](https://space.bilibili.com/484405397)

[å¯’é£Ÿå›](https://space.bilibili.com/1578320)

[æ¥ å“¥æ•™ä½ å­¦Java](https://space.bilibili.com/434617924)

[JavaçŸ¥è¯†å›¾è°±](https://space.bilibili.com/1936685014)

<http://www.altitude.xin>

## æ³›å‹ä¸­extendså’Œsuper ã® åŒºåˆ«

`< ? extends T >` è¡¨ç¤ºåŒ…æ‹¬ T åœ¨å†… ã® ä»»ä½•T ã® å­ç±»
`< ? super T >` è¡¨ç¤ºåŒ…æ‹¬ T åœ¨å†… ã® ä»»ä½•T ã® çˆ¶ç±»

## æ³›å‹ç±»

æ—¢ä¿è¯äº†**é€šç”¨æ€§**ï¼Œåˆä¿è¯äº†**ç‹¬ç‰¹æ€§**

åŸæœ¬ç¹æ‚ ã® ä»£ç ï¼š

æ¯”å¦‚ï¼ŒæŸä¸ªclassï¼Œéœ€è¦å®šä¹‰StringArrayListï¼ŒPersonArrayListï¼ŒDogArrayList ç­‰ä¸€ç³»åˆ— ArrayList

```java
public class StringArrayList {
    private ArrayList list = new ArrayList();

    public boolean add(String value) {
        return list.add(value);
    }
    public String get(int index) {
        return (String) list.get(index);
    }
}

public class PersonArrayList {
    private ArrayList list = new ArrayList();

    public boolean add(Person value) {
        return list.add(value);
    }
    public Person get(int index) {
        return (Person) list.get(index);
    }
}
```

ä½¿ç”¨äº†`æ³›å‹`ä»¥åå°±å˜å¾—ç®€å•ï¼Œç”¨`ç¬¦å·`ä»£æ›¿`å…·ä½“ ã® ç±»å‹`ï¼Œä»è€Œåªå®šä¹‰äº†ä¸€ä¸ª ArrayList

```java
public class ArrayList<E> {
    private ArrayList list = new ArrayList();

    public boolean add(E value) {
        return list.add(value);
    }
    public E get(int index) {
        return (E) list.get(index);
    }
}
```

ä½œç”¨ï¼š

- åªéœ€è¦`ç¼–å†™ä¸€å¥—ä»£ç `ï¼Œå°±å¯ä»¥è¿ç”¨`æ‰€æœ‰ç±»å‹`
- å°†`è¿è¡Œ`æ—¶ ã® é”™è¯¯ï¼Œè½¬åˆ°äº†`ç¼–è¯‘æ—¶æœŸ`ï¼Œä»¥å…é€ æˆ`ä¸¥é‡åæœ`
- åœ¨è·å–`å…ƒç´ `æ—¶ï¼Œå°±ä¸éœ€è¦`ç±»å‹è½¬æ¢`äº†ï¼Œè·å–åˆ° ã® `å…ƒç´ `å°±æ˜¯`æŒ‡å®šç±»å‹`

åœ¨ä¹¦å†™æ³›å‹ç±»æ—¶ï¼Œé€šå¸¸åšä»¥ä¸‹ ã® çº¦å®šï¼š

`E`è¡¨ç¤ºElementï¼Œé€šå¸¸ç”¨åœ¨`é›†åˆ`ä¸­ï¼›

`ID`ç”¨äºè¡¨ç¤º`å¯¹è±¡ ã® å”¯ä¸€æ ‡è¯†ç¬¦ç±»å‹`

`T`è¡¨ç¤ºType(ç±»å‹)ï¼Œé€šå¸¸æŒ‡`ä»£ç±»`ï¼›

`K`è¡¨ç¤ºKey(é”®),é€šå¸¸ç”¨äº`Map`ä¸­ï¼›

`V`è¡¨ç¤ºValue(å€¼),é€šå¸¸ç”¨äº`Map`ä¸­ï¼Œä¸Kç»“å¯¹å‡ºç°ï¼›

`N`è¡¨ç¤ºNumber,é€šå¸¸ç”¨äºè¡¨ç¤º`æ•°å€¼ç±»å‹`ï¼›

`ï¼Ÿ`è¡¨ç¤º`ä¸ç¡®å®š ã® Javaç±»å‹`ï¼›

`X`ç”¨äºè¡¨ç¤º`å¼‚å¸¸`ï¼›

`U,S`è¡¨ç¤ºä»»æ„ ã® ç±»å‹ã€‚

ä¸‹é¢æ—¶æ³›å‹ç±» ã® ä¹¦å†™ç¤ºä¾‹ï¼š

```java
public class HashSet<E> extends AbstractSet<E>{

}
public class HashMap<K,V> extends AbstractMap<K,V>{

}
public class ThreadLocal<T>{

}
public interface Functor<T, X extends Throwable>{
    T val() throws X;
}
public class Container<K,V>{
    private K key;
    private V value;
    Container(K key,V value){
        this.key = key;
        this.value = value;
    }

}

public interface BaseRepository<T,ID>{
    T findById(ID id);

    void update(T t);

    List<T> findByIds(ID...ids);
}

public static <T> List<T> methodName(Class<T> clz){
    List<T> dataList = getByClz(clz);
    return dataList;
}
```

## ä»€ä¹ˆæƒ…å†µç”¨`æ³›å‹class`ï¼Ÿ

å½“`æ³›å‹å‚æ•°`éœ€è¦åœ¨å¤šä¸ª`æ–¹æ³•`or`æˆå‘˜å±æ€§`é—´æ‰­è½¬ï¼Œè‡ªç„¶å°±è¦ç”¨åˆ°`æ³›å‹class`

æ³¨æ„äº‹é¡¹ï¼š

- `æ³›å‹ç±»`ä¸­ ã®  `æ³›å‹å‚æ•°` - éœ€è¦åœ¨ã€å®ä¾‹åŒ–ã€‘è¯¥ç±»æ—¶ï¼ŒæŒ‡å®šã€å…·ä½“ç±»å‹ã€‘
- `æ³›å‹ç±»`ä¸­ ã®  `æ³›å‹å‚æ•°` - åœ¨è¿è¡Œæ—¶è¢«æ“¦é™¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ²¡æœ‰ `ArrayList<String>`, `ArrayList<Integer>`ã€‚åªæœ‰ `ArrayList`ã€‚
- `æ³›å‹ç±»`ä¸­ ã®  `æ³›å‹å‚æ•°` - é™æ€æ–¹æ³•ï¼šæ— æ³•è®¿é—®ã€‚if è¦ä½¿ç”¨æ³›å‹ï¼Œå¿…é¡»å®šä¹‰æˆã€æ³›å‹æ–¹æ³•ã€‘
- `æ³›å‹ç±»`ä¸­ ã®  `æ³›å‹å‚æ•°` - ä½¿ç”¨ã€åŸºæœ¬ç±»å‹ã€‘æ—¶ - ä¼šè‡ªåŠ¨è£…ç®±æˆã€åŒ…è£…ç±»ã€‘
  
```java
public class ArrayList<E> {
    é™æ€æ–¹æ³•ï¼šæ— æ³•è®¿é—®`æ³›å‹ç±»` ã® `æ³›å‹å‚æ•°`
    private static E data;              //âŒç¼–è¯‘é”™è¯¯
    private static void set(E data) {   //âŒç¼–è¯‘é”™è¯¯
        this.data = data;               //âŒç¼–è¯‘é”™è¯¯
    };
    transient Object[] elementData;
    public E get(int index) {
        return (E) elementData[index];
    }
    public boolean add(E e) {
        ...
        return true;
    }
}


ArrayList<String> strList = new ArrayList<>();
ArrayList<Integer> intList = new ArrayList<>();
ArrayList<int> intList = new ArrayList<>(); // ç¼–è¯‘é”™è¯¯

åœ¨ã€æ³›å‹ã€‘ä¸­ä½¿ç”¨ã€åŸºæœ¬ç±»å‹ã€‘æ—¶ï¼Œä¼šè‡ªåŠ¨è£…ç®±æˆã€åŒ…è£…ç±»ã€‘:
intList.add(123);
Interger num = intList.get(0);

```

## ä»€ä¹ˆæƒ…å†µç”¨`æ³›å‹method`

`æ³›å‹æ–¹æ³•`ä¼šæ ¹æ®`è°ƒç”¨`è¿›è¡Œ`ç±»å‹æ¨å¯¼`

```java
æ™®é€šç±»ï¼š
public class GenericMethod {
    é™æ€æ–¹æ³•ï¼šè¦ä½¿ç”¨æ³›å‹ï¼Œå¿…é¡»å®šä¹‰æˆã€æ³›å‹æ–¹æ³•ã€‘
    public static <T> T get(T t) {
        return t;
    }
}

GenericMethod gm = new GenericMethod();
String s = gm.get("ä¸€é”®ä¸‰è¿")
Person p = gm.get(new Person())
ç¼–è¯‘å™¨ï¼Œä¼šå°†å…¶æ¨å¯¼ä¸ºã€åŒ…è£…ç±»ã€‘
Integer s = gm.get(666)
Double s = gm.get(123.0)
```

### æ³›å‹ç±»å’Œæ³›å‹æ–¹æ³•

|   | æ³›å‹class  | æ³›å‹method  |
|---|---|---|
|  ã€å®ä¾‹åŒ–ã€‘ç±»: | æŒ‡å®šã€å…·ä½“ç±»å‹ã€‘  | ä¸éœ€è¦åˆ¶å®šã€å…·ä½“ç±»å‹ã€‘ï¼Œ`æ³›å‹æ–¹æ³•`ä¼šæ ¹æ®`è°ƒç”¨`è¿›è¡Œ`ç±»å‹æ¨å¯¼`  |
|  é™æ€æ–¹æ³•ï¼š | ä¸èƒ½è®¿é—®ã€æ³›å‹å‚æ•°ã€‘  | å¯ä»¥è®¿é—®ã€æ³›å‹å‚æ•°ã€‘  |
| é€‚ç”¨äºï¼š| æ³›å‹å‚æ•°éœ€è¦åœ¨å¤šä¸ª`æ–¹æ³•`or`æˆå‘˜å±æ€§`é—´æ‰­è½¬  | åªéœ€ä½œç”¨äºæŸä¸ª`æ–¹æ³•`  |

### æ³›å‹æ¥å£

```java
public interface Generic<T> {
    void process(T t);
}
```

## super å’Œ this

superï¼šä»£è¡¨ã€çˆ¶ç±»ã€‘
thisï¼šä»£è¡¨ã€ç±»æœ¬èº«ã€‘

```java
class Person {
    ã€æˆå‘˜å±æ€§ã€‘
    private String name;
    private Interger age;

    ã€æ„é€ æ–¹æ³•ã€‘ã€é‡è½½ã€‘
    public Person() {
        this("åŒ¿å"ï¼Œ18)
    }

    public Person(Integer age) {
        this("åŒ¿å"ï¼Œage)
    }

    public Person(String name) {
        this(nameï¼Œ18)
    }

    public Person(String name, Integer age) {
        this.name = name;
        this.age = age;
    }

    ã€æ–¹æ³•ã€‘
    public void introduce() {
        System.out.println("æˆ‘ ã® åå­—æ˜¯%s, ä»Šå¹´%då²", name, age);
    }

    public void introduceTwo() {
        introduce();
        this.introduce();
    }

    public void setName(String inputName) {
        // çœå» this å…³é”®å­—
        name = inputName;
        this.name = inputName;
    }
    public void setAge(String inputAge) {
        // çœå» this å…³é”®å­—
        age = inputAge;
        this.age = inpuAge;
    }
}
```

```java
public class Student extends Person {
    public Student(String name) {
        this(name, 18);
    }
    public Student(String name, Integer age) {
        super(name, age);
    }
    @Override
    public void introduce() {
        // å¤ç”¨çˆ¶ç±»é€»è¾‘
        super.introduce();
        System.out.println("æˆ‘æ˜¯ä¸€åå­¦ç”Ÿã€‚");
    }

    public static void main(String[] args) {
        Student student = new Student("å¼ ä¸‰", 16);
        student.introduce();
        æ‰“å°ç»“æœä¸ºï¼šæˆ‘ ã® åå­—æ˜¯å¼ ä¸‰, ä»Šå¹´16å²ã€‚æˆ‘æ˜¯ä¸€åå­¦ç”Ÿã€‚
    }

}
```

## å¼•ç”¨æ‹·è´ã€æµ…æ‹·è´ã€æ·±æ‹·è´

æŒ‡ ã® æ˜¯ã€å¯¹è±¡ã€‘ ã® æ‹·è´

| å¼•ç”¨æ‹·è´  | æµ…æ‹·è´  | æ·±æ‹·è´  |
|---|---|---|
| onlyå¤åˆ¶ã€åœ°å€ã€‘  | åˆ›å»ºã€æ–° ã® å¯¹è±¡ã€‘ï¼Œä½†ä»ç„¶å¤åˆ¶ã€å¼•ç”¨ç±»å‹ã€‘ ã® ã€åœ°å€ã€‘  | åˆ›å»ºtotallyã€æ–° ã® å¯¹è±¡ã€‘  |
|    |    | å¯¹newå¯¹è±¡ ã® ä¿®æ”¹ï¼Œä¸ä¼šå½±å“oldå¯¹è±¡ ã® å€¼  |

éœ€è¦é€šè¿‡ `cloneableæ¥å£` å’Œ `clone()æ–¹æ³•`ï¼Œç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨`clone()æ–¹æ³•`é‡Œé¢ï¼Œå¯ä»¥å®ç°`æµ…æ‹·è´`å’Œ`æ·±æ‹·è´` ã® ä¸€ä¸ªé€»è¾‘ã€‚

```java
ä¸å»ºè®®ç›´æ¥ä½¿ç”¨ clone(), å®¹æ˜“æŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥è‡ªå·±ç¼–å†™å…¶ä»– ã® æ–¹æ³•æ¥å®ç°ã€‚

public class Person implements Cloneable {
    public int age;
    public int[] arr = {1,2,3}; // è°ƒç”¨å¼•ç”¨ç±»å‹ ã® clone

    public Person(int age) {
        this.age = age;
    }

    @Override
    public Person clone() {
        try {
            Person person = (Person) super.clone();
            person.arr = this.arr.clone(); // è°ƒç”¨å¼•ç”¨ç±»å‹ ã® clone
            return person;
        } catch (CloneNotSupportedException e) {
            return null;
        }
    }
}

Person p1 = new Person(18);
Person p2 = p1.clone();
System.out.println(p1 == p2) // false
System.out.println(p1.equals(p2)) // false
```

[è·Ÿç€Micå­¦æ¶æ„](https://www.bilibili.com/video/BV1gg411X7Mq)

## æ·±æ‹·è´ & æµ…æ‹·è´ ã® ä»£ç å®ç°

```java
æµ…æ‹·è´: board ä»ç„¶æŒ‡å‘åŸæ¥ ã® ã€åœ°å€ã€‘
class MainBoard implements Cloneable {
    public String brand;
}

class Computer implements Cloneable {
    public String brand;
    public MainBoard board;
    @Override
    public Object clone() throws CloneNotSupportedException {
        return super.clone();
    }
}
```

```java
æ·±æ‹·è´: åˆ›å»ºä¸€ä¸ªå…¨æ–° ã® å¯¹è±¡
class MainBoard implements Cloneable {
    public String brand;
    @Override
    public Object clone() throws CloneNotSupportedException {
        return super.clone();
}

class Computer implements Cloneable {
    public String brand;
    public MainBoard board;
    @Override
    public Object clone() throws CloneNotSupportedException {
        Computer com = (Computer) super.clone();
        com.board = (MainBoard) this.board.clone();
        return com;
    }
}
```

## å®ç°`æ·±æ‹·è´` ã® æ–¹æ³•

1. åºåˆ—åŒ–ã€‚æŠŠä¸€ä¸ªå¯¹è±¡å…ˆ`åºåˆ—åŒ–`ï¼Œå†`ååºåˆ—åŒ–`å›æ¥ã€‚
2. åœ¨`clone()æ–¹æ³•`é‡Œé¢ï¼Œé‡å†™`clone ã® é€»è¾‘`ï¼Œå¯¹å…‹éš†å¯¹è±¡ ã® `å†…éƒ¨å¼•ç”¨å˜é‡`ï¼Œå†è¿›è¡Œä¸€æ¬¡å…‹éš†ã€‚

```java
person.arr = this.arr.clone()
```

## Javaæœ‰å‡ ç§æ–‡ä»¶æ‹·è´æ–¹å¼ï¼Œå“ªä¸€ç§æ•ˆç‡æœ€é«˜ï¼Ÿ

1. ä½¿ç”¨ `java.io åŒ…`é‡Œé¢ ã® åº“ï¼Œä½¿ç”¨ `FileInputStream` è¯»å–ï¼Œä½¿ç”¨ `FileOutputStream` å†™å‡ºã€‚
2. åˆ©ç”¨ `java.nio åŒ…`ä¸‹é¢ ã® åº“ï¼Œä½¿ç”¨ `TransferTo` æˆ– `TransferFrom` å®ç°
3. ä½¿ç”¨ `java æ ‡å‡†ç±»åº“` æœ¬èº«æä¾› ã®  `Files.copy`

å…¶ä¸­ nio é‡Œé¢æä¾› ã®  TransferTo æˆ– TransferFromï¼Œå¯ä»¥å®ç°ã€é›¶æ‹·è´ã€‘ã€‚ã€é›¶æ‹·è´ã€‘å¯ä»¥åˆ©ç”¨ã€æ“ä½œç³»ç»Ÿåº•å±‚ã€‘ï¼Œé¿å…ä¸å¿…è¦ ã®  ã€copyã€‘å’Œã€ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‘ï¼Œå› æ­¤ï¼Œåœ¨æ€§èƒ½ä¸Šè¡¨ç°æ¯”è¾ƒå¥½ã€‚

## IO å’Œ NIO  ã® åŒºåˆ«?

å…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä¼šä»ä¸‹é¢å‡ ä¸ªæ–¹é¢æ¥å›ç­”ï¼š

1. IO æŒ‡ ã® æ˜¯, å®ç°ã€æ•°æ®ã€‘ä»ã€`ç£ç›˜`ã€‘ä¸­ã€è¯»å– or å†™å…¥ã€‘ã€‚
é™¤äº†ã€`ç£ç›˜`ã€‘ä»¥å¤–ï¼Œã€`å†…å­˜ or ç½‘ç»œ`ã€‘éƒ½å¯ä»¥ä½œä¸ºã€IO æµã€‘ ã® ã€æ¥æº or ç›® ã® åœ°ã€‘ã€‚

2. å½“ã€ç¨‹åºã€‘é¢å‘ ã® æ˜¯ã€ç½‘ç»œã€‘è¿›è¡Œæ•°æ®IOæ“ä½œæ—¶ï¼ŒJava é‡Œé¢é€šè¿‡ã€sockerã€‘æ¥å®ç°ã€ç½‘ç»œé€šä¿¡ã€‘

3. åŸºäºã€sockerã€‘ ã® IOï¼Œå±äºã€é˜»å¡IOã€‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“serverå—åˆ°ã€clientè¯·æ±‚ã€‘ï¼Œéœ€è¦ç­‰åˆ° ã€clientè¯·æ±‚ã€‘ ã® æ•°æ®å¤„ç†å®Œæ¯•ï¼Œæ‰èƒ½è·å–ä¸‹ä¸€ä¸ªã€clientè¯·æ±‚ã€‘ã€‚so, åŸºäºã€sockerã€‘ ã® IO èƒ½å¤Ÿè¿æ¥æ•°é‡éå¸¸å°‘ã€‚

4. NIO æ˜¯ æ–°å¢ ã®  new IO æœºåˆ¶ã€‚æä¾›äº†ã€éé˜»å¡IOã€‘ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ã€è¿æ¥æœªå°±ç»ª or IOæœªå°±ç»ªã€‘ ã® æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯ä¸ä¼šã€å µå¡ã€‘å½“å‰è¿æ¥ï¼Œè€Œæ˜¯ç»§ç»­ã€è½®è¯¢ã€‘åç»­ ã® é“¾æ¥æ¥å¤„ç†ã€‚so, NIOå¯ä»¥ã€å¹¶è¡Œå¤„ç†ã€‘ ã® è¿æ¥æ•°é‡éå¸¸å¤šã€‚

5. NIO ç›¸æ¯”äºã€ä¼ ç»Ÿ ã®  old IOã€‘ï¼Œæ•ˆç‡æ›´é«˜

## BIOã€NIOã€AIO æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

[è®¾è®¡æºäºç”Ÿæ´»ä¸­](https://www.bilibili.com/video/BV1cD4y1X7pN)

`BIO`ï¼šBlock IO - `åŒæ­¥é˜»å¡å¼ IO`

- å½“serverå—åˆ°ã€clientè¯·æ±‚ã€‘ï¼Œéœ€è¦ç­‰åˆ° ã€clientè¯·æ±‚ã€‘ ã® æ•°æ®å¤„ç†å®Œæ¯•ï¼Œæ‰èƒ½è·å–ä¸‹ä¸€ä¸ªã€clientè¯·æ±‚ã€‘ã€‚so, BIO èƒ½å¤Ÿè¿æ¥æ•°é‡éå¸¸å°‘ã€‚

`NIO`ï¼šNew IO - `åŒæ­¥éé˜»å¡ IO` - ä¹Ÿå°±æ˜¯ã€å¤šè·¯å¤ç”¨ã€‘

- åœ¨ã€è¿æ¥æœªå°±ç»ª or IOæœªå°±ç»ªã€‘ ã® æƒ…å†µä¸‹ï¼ŒæœåŠ¡ç«¯ä¸ä¼šã€å µå¡ã€‘å½“å‰è¿æ¥ï¼Œè€Œæ˜¯ç»§ç»­ã€è½®è¯¢ã€‘åç»­ ã® é“¾æ¥æ¥å¤„ç†ã€‚so, NIOå¯ä»¥ã€å¹¶è¡Œå¤„ç†ã€‘ ã® è¿æ¥æ•°é‡éå¸¸å¤šã€‚

`AIO`ï¼šAsynchronous IO - `å¼‚æ­¥éå µå¡ IO`

- æ˜¯ NIO  ã® å‡çº§ï¼Œä¹Ÿå« NIO2

## å¼‚å¸¸ ã® ä¸¤ä¸ªã€å­ç±»å®ç°ã€‘ï¼Ÿjavaä¸­å¼‚å¸¸ ã® åˆ†ç±»ï¼Ÿ

æ‰€æœ‰å¼‚å¸¸ï¼Œéƒ½ æ´¾ç”Ÿè‡ª throwableï¼Œå®ƒæœ‰ä¸¤ä¸ªã€å­ç±»å®ç°ã€‘ï¼š

1. ä¸€ä¸ªæ˜¯ errorã€éå—æ£€å¼‚å¸¸ã€‘
2. ä¸€ä¸ªæ˜¯ exceptionã€éå—æ£€å¼‚å¸¸ + å—æ£€å¼‚å¸¸ã€‘

- 1ï¸âƒ£error æ˜¯ã€ç¨‹åºåº•å±‚ or ç¡¬ä»¶å±‚é¢ã€‘ ã® é”™è¯¯ï¼Œä¸ç¨‹åºæ— å…³ï¼Œæ¯”å¦‚ï¼ŒOOM
- 2ï¸âƒ£exception æ˜¯ã€ç¨‹åºé‡Œé¢ã€‘ ã® å¼‚å¸¸ã€‚åŒ…æ‹¬ï¼š
    1. RuntimeException
    2. å…¶ä»–

## javaä¸­å¼‚å¸¸ ã® åˆ†ç±»ï¼Ÿå¯¹å—æ£€å¼‚å¸¸å’Œéå—æ£€å¼‚å¸¸ ã® ç†è§£ï¼Ÿ

- 1ï¸âƒ£ã€å—æ£€å¼‚å¸¸ã€‘æŒ‡ï¼š`ç¼–è¯‘å¼‚å¸¸`
  - åœ¨ã€ç¼–è¯‘é˜¶æ®µã€‘ï¼Œéœ€è¦ã€å¼ºåˆ¶æ£€æŸ¥ã€‘ã€‚
  - ç¨‹åºæ— æ³•é¢„åˆ¤ ã® å¼‚å¸¸ï¼Œæ¯”å¦‚ï¼ŒIOExceptionã€SQLException

- æœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼š

    1. é€šè¿‡ try {} catch {}
    2. é€šè¿‡ throw æŠŠå¼‚å¸¸æŠ›å‡ºå»

- 2ï¸âƒ£ã€éå—æ£€å¼‚å¸¸ã€‘æŒ‡ï¼š`è¿è¡Œæ—¶å¼‚å¸¸`
  - ç¨‹åºé€»è¾‘é”™è¯¯ï¼Œå¼•èµ·ã€‚ã€‚ã€‚
  - åœ¨ã€ç¼–è¯‘é˜¶æ®µã€‘ï¼Œä¸éœ€è¦ã€æ£€æŸ¥ã€‘ã€‚
  - ä¸éœ€è¦ä¸»åŠ¨æ•è·ï¼Œå‘ç”Ÿåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œ
  - å¦‚ RuntimeException (NullPointException, IndexOutOfException)ï¼Œ
  - æˆ‘ä»¬å¯ä»¥é€‰æ‹©ã€ä¸»åŠ¨æ•è·å¼‚å¸¸ã€‘ï¼Œä»è€Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿã€å®šä½é—®é¢˜ã€‘ã€‚

```java
public static void process(String arg) {
    if (arg = null) {
        arg = "é»˜è®¤å€¼";
    }
    ...ç»§ç»­æ‰§è¡Œä¸šåŠ¡é€»è¾‘
}

public static boolean process(String arg) {
    if (arg = null) {
        return false;
    }
    ...ç»§ç»­æ‰§è¡Œä¸šåŠ¡é€»è¾‘
    return true;
}

public static void process(String arg) {
    if (arg = null) {
        throw new MyException();
    }
    ...ç»§ç»­æ‰§è¡Œä¸šåŠ¡é€»è¾‘
}
```

```java
è‡ªå®šä¹‰å¼‚å¸¸ï¼šğŸ˜€ç…§ç€çˆ¶ç±»å­¦ä¹ 

public class MyException extends RuntimeException {
    // éå—æ£€å¼‚å¸¸ï¼Œå‘ç”Ÿåœ¨ç¨‹åºè¿è¡ŒæœŸé—´
    public MyException() {
        // ...
    }

    public MyException(String message) {
        super(message);
    }

    public MyException(String message, Throwable cause) {
        super(message, cause);
    }

    public MyException(Throwable cause) {
        super(cause);
    }
}
```

```java

æŠ›å‡ºå¼‚å¸¸ï¼š

public static void main(String[] args) throws Exception{
    // å¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œåˆ™ç¨‹åºç»ˆæ­¢
    throw new MyException();                           // ç›´æ¥æŠ›å‡ºå¼‚å¸¸
    throw new MyException("æ²¡æœ‰ä¸€é”®ä¸‰è¿ï¼Œç¨‹åºå´©æºƒ");     // æŠ›å‡ºå¼‚å¸¸ ã® åŒæ—¶ï¼Œä¼ é€’å¼‚å¸¸ä¿¡æ¯
    throw new MyException(new NullPointerException()); // æŠ›å‡ºå¼‚å¸¸ ã® åŒæ—¶ï¼Œä¼ é€’å…¶ä»–å¼‚å¸¸ ã® å †æ ˆä¿¡æ¯
    throw åªèƒ½åœ¨ä»£ç å—ä¸­
}
```

## finally ä¸€å®šä¼šè¢«æ‰§è¡Œ

```java
// https://www.bilibili.com/video/BV18t4y1C7iC
public static void main() {
    System.out.println(getValue());
}

public static int getValue() {
    try {
        return 0;
    } finally {
        return 1;
    }
}
æœ€ç»ˆè¾“å‡º1
```

## ã€å—æ£€å¼‚å¸¸ã€‘ ã® ä¸¤ç§å¤„ç†æ–¹å¼

```java
å¼‚å¸¸æ•è·ï¼š

try{
    process();
} catch (IOException e) {
    // å‘ç”ŸIOå¼‚å¸¸ï¼Œæ‰ä¼šæ‰§è¡Œ
} catch (ClassNotFoundException e) {
    // å‘ç”Ÿå¼‚å¸¸ï¼Œæ‰ä¼šæ‰§è¡Œ
} catch (Exception e) {
    // å‘ç”Ÿå¼‚å¸¸ï¼Œæ‰ä¼šæ‰§è¡Œ
} finally {
    // æ— è®ºæ˜¯å¦å¼‚å¸¸ï¼Œéƒ½ä¼šæ‰§è¡Œ
}
// ä¸Šé¢å‘ç”Ÿå¼‚å¸¸ï¼Œè¿™é‡Œä¹Ÿèƒ½æ‰§è¡Œ
xxx();
```

```java
public static void process() throws IOException, ClassNotFoundException {
    ////////////////////////////////
}

æ­£ç¡®å†™æ³•ï¼šæœ€å¥½ç”¨è¿™ä¸ªï¼š
public static void fun1() {
    try {
        process(); // ç¼–è¯‘æˆåŠŸ
    } catch (IOException | ClassNotFoundException e) {
        ////////////////////////////////
    }
}
æ­£ç¡®å†™æ³•ï¼šå…¶æ¬¡ç”¨è¿™ä¸ªï¼š
public static void fun2() throws IOException, ClassNotFoundException {
        process(); // ç¼–è¯‘æˆåŠŸ
}
é”™è¯¯å†™æ³•ï¼šâŒ
public static void fun3() {
        process(); 
}
```

## javaå¼‚å¸¸

```java
try{
  
}catch(RuntimeException e){
  
}catch(Exception e){
  
}finally{
  
}
```

- å¯¼å…¥ä¸€ä¸ªåŒ…ä¸­æ‰€æœ‰ ã® ç±»ï¼Œé‡‡ç”¨ *

```java
import java.lang.*
import java.util.ArrayList
import java.util.HashMap
```

- javaä¸­ ã® `å¸¸é‡`ï¼š`const`
- javaä¸­`ä¼´ç”Ÿå¯¹è±¡`ï¼š`staticå…³é”®å­—`
- javaä¸­ ã® `trait`ï¼šæ¥å£`interface`

## å¤§ ã® logæ–‡ä»¶ä¸­ï¼Œç»Ÿè®¡å¼‚å¸¸å‡ºç° ã® æ¬¡æ•°ã€æ’åºï¼Œæˆ–è€…æŒ‡å®šè¾“å‡ºå¤šå°‘è¡Œå¤šå°‘åˆ— ã® å†…å®¹

```s
cat /data/logs/server.log  | grep Exception | sort | uniq -c | sort -nr | head -n 50

cat æ˜¾ç¤ºæ–‡ä»¶å†…å®¹

grepåä»…æ˜¾ç¤ºåŒ…å«"Exception" ã® è¡Œ

sortåæŠŠç›¸åŒ ã® è¡Œæ’åˆ—åˆ°ä¸€èµ·

uniq -cå»é™¤ç›¸åŒè¡Œ;-cæ·»åŠ æ•°é‡ç»Ÿè®¡

sort -nr æŒ‰ç…§æ•°å­—å€’åºæ’åˆ— è¿™æ ·å°±ä¼šæŠŠå‡ºç°æ¬¡æ•°æœ€å¤š ã® å¼‚å¸¸æ˜¾ç¤ºåœ¨æœ€å‰è¾¹.

head -n 50 åªå–å¤´50è¡Œ
```

## abstract class æŠ½è±¡ç±»

æ³¨æ„äº‹é¡¹ï¼š

1ã€`æŠ½è±¡ç±»` ã® ä¿®é¥°ç¬¦å¿…é¡»ä¸º`public`æˆ–è€…`protected`, ä¸èƒ½æ˜¯private, å› ä¸ºæŠ½è±¡ç±»éœ€è¦`å…¶å­ç±»å»å®ç°æŠ½è±¡æ–¹æ³•`ï¼Œprivateä¿®é¥°å°±ä¸èƒ½è¢«å­ç±»ç»§æ‰¿ï¼Œå› æ­¤å­ç±»å°±ä¸èƒ½å®ç°æ”¹æ–¹æ³•ã€‚
2ã€`æŠ½è±¡ç±»`ä¸èƒ½ç›´æ¥`å®ä¾‹åŒ–`ï¼Œéœ€è¦é€šè¿‡`æ™®é€šå­ç±»`è¿›è¡Œ`å®ä¾‹åŒ–`ã€‚
3ã€å¦‚æœå­ç±»`åªå®ç°äº†æŠ½è±¡çˆ¶ç±»ä¸­ ã® ä¸€äº›æ–¹æ³•`ï¼Œé‚£ä¹ˆè¯¥å­ç±»`ä»»ç„¶æ˜¯æŠ½è±¡ç±»`ï¼ˆä¸èƒ½è¢«å®ä¾‹åŒ–ï¼‰ã€‚

```java
public abstract class Animal {
    protected String name;
    protected Animal(String name) {
        this.name = name;
    }
    public abstract void eat();
}

class Dog extends Animal {
    public Dog(String name) {
        super(name);
    }
    @Override
    public void eat() {
        System.out.println(name + "è¦å¼€åƒäº†~")
    }
}
```

## abstract æ–¹æ³•

abstract ä¿®é¥° methodï¼Œåªæœ‰å£°æ˜ï¼Œæ²¡æœ‰å®ç°ï¼Œå®ç°éƒ¨åˆ†ä»¥â€œ;â€ä»£æ›¿

## abstract ä¿®é¥°ç¬¦

ä¸èƒ½å’Œ finalã€staticã€private åŒæ—¶ä½¿ç”¨

## æ¥å£ã€æŠ½è±¡ç±» ã€å­ç±»

java æå€¡ï¼š**é¢å‘æ¥å£å¼€å‘**

æ¥å£ã€æŠ½è±¡ç±» - ç›¸åŒç‚¹ï¼šä¸èƒ½å®ä¾‹åŒ–

1ï¸âƒ£æ¥å£ï¼šæ›´ç²¾ç®€

2ï¸âƒ£æŠ½è±¡ç±»ï¼šå½“éœ€è¦è®©`å­ç±»`ç»§æ‰¿`æˆå‘˜å˜é‡`ï¼Œor éœ€è¦æ§åˆ¶`å­ç±» ã® å®ä¾‹åŒ–`æ—¶

|  æ¥å£  |  æŠ½è±¡ç±»  |
|---|---|
| è¢«ã€ç±»ã€‘ç»§æ‰¿  | è¢«ã€å­ç±»ã€‘ç»§æ‰¿   |
| å¤šç»§æ‰¿  | å•ç»§æ‰¿  |
|  åªèƒ½å®šä¹‰ã€æŠ½è±¡æ–¹æ³•ã€‘+ ã€é»˜è®¤æ–¹æ³•ã€‘ | å¯ä»¥å®šä¹‰ã€æŠ½è±¡æ–¹æ³•ã€‘+ã€éæŠ½è±¡æ–¹æ³•ã€‘  |
| å˜é‡åªèƒ½æ˜¯ã€public static å¸¸é‡ã€‘  |  ã€æ™®é€šå˜é‡ã€‘å³å¯  |
| è®¾è®¡æ—¶ï¼Œè€ƒè™‘ã€æ¥å£ã€‘  | é‡æ„æ—¶ï¼Œè€ƒè™‘ã€æŠ½è±¡ç±»ã€‘  |
| ç”¨æ¥æŠ½è±¡ã€åŠŸèƒ½ã€‘  | ç”¨æ¥æŠ½è±¡ã€ç±»åˆ«ã€‘  |

| æ¥å£                                            | æŠ½è±¡ç±»                | å­ç±»                      |
|-------------------------------------------------|----------------------|---------------------------|
| å°‘äº†`æˆå‘˜å±æ€§`å’Œ`æ„é€ å™¨`ï¼Œåªç•™ä¸‹`é™æ€å¸¸é‡`å’Œ`æ–¹æ³•`  | å®ç°`nä¸ªæ¥å£`         | ç»§æ‰¿`æŠ½è±¡ç±»`, å®ç°`nä¸ªæ¥å£` |
| abstract æ–¹æ³•                                   | abstract æ–¹æ³• + å±æ€§  | é‡å†™ æ–¹æ³•                  |
| extends                                         | implements           |                            |

```java
æ¯”å¦‚ï¼š

Collection å°±æ˜¯ä¸€ä¸ªæ¥å£

åŒ…å«äº†ï¼š

- ArrayList()
- HashSet()
```

```java
public class Main {
    public static void printCollection(Collection collection) {
        if (collection = null) {
            return;
        }
        System.out.println("æ•°æ®æ•°é‡: " + collection.size());
    }

    public static void main(String[] args) {
        printCollection(new ArrayList())
        printCollection(new HashSet())
    }
}
```

```java
å®šä¹‰privateæ–¹æ³•
å°‘äº†`æˆå‘˜å±æ€§`å’Œ`æ„é€ å™¨`ï¼Œåªç•™ä¸‹`é™æ€å¸¸é‡`å’Œ`æ–¹æ³•`
public interface Runnable {
    public static final String CONST = "å¸¸é‡"
    public abstract void fun();
    void run();

    default void defaultMethod() {
        System.out.println("default æ–¹æ³•");
        privateMethod();
        privateMethod();
        privateMethod();
    }

    static void staticMethod() {
        System.out.println("é™æ€æ–¹æ³•");
    }

    private void privateMethod() {
        System.out.println("ç§æœ‰æ–¹æ³•");
    }
}

public class Thread implements Runnable {
    // å®ç°ã€æ¥å£ã€‘
}

public class Dog extends Animal {
    // å®ç°ã€æŠ½è±¡ç±»ã€‘
}

public abstract class Pet extends Animal implements A, B, C{

}
```





## é«˜å¹¶å‘ä¸‹å¦‚ä½•åšåˆ°å®‰å…¨ ã® ä¿®æ”¹åŒä¸€è¡Œæ•°æ®ï¼Œä¹è§‚é”å’Œæ‚²è§‚é”æ˜¯ä»€ä¹ˆ?

## INNODB ã® è¡Œçº§é”æœ‰å“ª2ç§ï¼Œè§£é‡Šå…¶å«ä¹‰




ä¸ç®¡æ˜¯å“ªä¸ªæ–¹æ³•ï¼Œéƒ½è¦æ±‚æ‰§è¡Œ ã® çº¿ç¨‹ä¸ºã€é” ã® æŒæœ‰çº¿ç¨‹ã€‘ã€‚åŸºäºæ­¤ç§åŠŸèƒ½ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œå¦‚æœä¸æŠŠä¸¤ä¸ªæ–¹æ³•å†™åœ¨åŒæ­¥ä»£ç ä¸­ï¼Œä¼šåœ¨ç¼–è¯‘æœŸå°±æç¤ºé”™è¯¯ã€‚

æœ€å…³é”® ã® ç‚¹ï¼Œæ˜¯ä¸ºäº†é¿å…èµ„æºç«äº‰å’Œå‘ç”Ÿâ€œå¹»è¯»â€ä¸€æ · ã® é—®é¢˜ã€‚ç­‰å¾…çº¿ç¨‹ ã® å†™æ³•éƒ½æ˜¯
while (!condition) {wait()}ã€‚å‡è®¾æ­¤æ—¶æœ‰å¤šä¸ªçº¿ç¨‹éƒ½åœ¨ç­‰å¾…ã€‚å†å‡è®¾ä½¿ç”¨notify/waitä¸éœ€è¦é”ã€‚é‚£ä¹ˆå½“ä¸€ä¸ªçº¿ç¨‹å”¤é†’äº†å½“å‰ç­‰å¾… ã® æ‰€æœ‰çº¿ç¨‹ï¼Œæ‰€æœ‰ ã® ç­‰å¾…æ£€æŸ¥äº†conditionéƒ½è®¤ä¸ºæ»¡è¶³äº†å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œé‚£ä¹ˆæ‰€æœ‰çº¿ç¨‹éƒ½ä¼šæ‰§è¡Œä¸‹ä¸€æ­¥ã€‚ä½†æ˜¯å¦‚æœå…¶ä¸­ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œä¹‹åæŠŠconditionåˆå˜æˆäº†falseï¼Œ

é‚£ä¹ˆå…¶ä»–è¢«å”¤é†’ ã® çº¿ç¨‹ä¸ä¼šå†æ¬¡æ£€æŸ¥ï¼Œå› ä¸ºå·²ç»æ£€æŸ¥è¿‡äº†ã€‚å°±å‡ºç°ç±»ä¼¼å¹»è¯»ä¸€æ · ã® æƒ…å†µã€‚

ä¸¾ä¸ªä¾‹å­å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—ã€‚

å¦‚æœä¸éœ€è¦é”ï¼Œç­‰å¾…æ¶ˆæ¯ ã® æ‰€æœ‰æ¶ˆè´¹è€…éƒ½ä¼šè¢«å”¤é†’ç„¶åéƒ½ä¼šå»æ£€æŸ¥æ˜¯å¦æœ‰æ¶ˆæ¯ã€‚

åˆšå¥½æ‰€æœ‰æ¶ˆè´¹è€…éƒ½æ£€æŸ¥å®Œï¼Œè®¤ä¸ºå¯ä»¥æ‰§è¡Œã€‚ä¸€ä¸ªæ¶ˆè´¹è€…æŠŠé˜Ÿåˆ—é‡Œå”¯ä¸€ ã® æ¶ˆæ¯æ‹¿èµ°äº†ï¼Œé¡ºåˆ©æ‰§è¡Œã€‚

ä½†æ˜¯åˆ« ã® æ¶ˆè´¹è€…å› ä¸ºä¹‹å‰æ£€æŸ¥è¿‡äº†ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šå†æ¬¡æ£€æŸ¥ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ã€‚
















## çº¿ç¨‹å’Œè¿›ç¨‹åˆ‡æ¢è¿‡ç¨‹

æ—¶é—´ç‰‡ï¼šCPUä¸ºæ¯ä¸ªã€è¿›ç¨‹ã€‘åˆ†é…ä¸€ä¸ªã€æ—¶é—´æ®µã€‘ã€‚

ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šå¦‚æœåœ¨ã€æ—¶é—´ç‰‡ã€‘ç»“æŸæ—¶ï¼Œè¿›ç¨‹è¿˜åœ¨è¿è¡Œï¼Œåˆ™æš‚åœè¿›ç¨‹ ã® è¿è¡Œï¼Œç»™CPUåˆ†é…å¦ä¸€ä¸ªè¿›ç¨‹

## è¿›ç¨‹ ã® åœ°å€ç©ºé—´

## è¿›ç¨‹ä¹‹é—´é€šä¿¡ ã® æ–¹å¼

## è¿›ç¨‹åˆ‡æ¢ ã® è¿‡ç¨‹

## å¹¶å‘ç¼–ç¨‹ä¸‰è¦ç´ ï¼Ÿ

<https://www.bilibili.com/video/BV1tS4y1e7Yr>

## spark executorå†… ã® taskæ˜¯æ€ä¹ˆå½¼æ­¤éš”ç¦» ã® ï¼ˆä»çº¿ç¨‹æ±  ã® è§’åº¦ï¼Œè¿˜æœ‰åˆ‡åˆ†stageï¼‰

## ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸€èˆ¬éƒ½ç”¨çº¿ç¨‹æ¥æ¥æ”¶è¯·æ±‚ï¼ˆå¥½åƒæ˜¯è¿™æ ·é—® ã® ï¼‰

## é¢è¯•è¢«é—®åˆ°å¹¶å‘ç¼–ç¨‹ä¸­ï¼Œå¦‚ä½•ä¸­æ–­ä¸€ä¸ªæ­£åœ¨è¿è¡Œä¸­çš„çº¿ç¨‹ï¼Ÿ

<https://www.bilibili.com/video/BV1554y1Z7w5>













## Synchronized  ã® é”æ¶ˆé™¤

åœ¨JITé˜¶æ®µï¼Œå¦‚æœæ£€æµ‹å‡ºã€ä¸å¯èƒ½æœ‰ã€‘ã€èµ„æºç«äº‰ ã® é”ã€‘ï¼Œä¼šç›´æ¥æ¶ˆé™¤

## javaä¸­ ã® é”æœºåˆ¶

- lock
- synchronized
- åˆ†å¸ƒå¼é”

## synchronized  ã® ä½œç”¨

å®ç°ã€åŒæ­¥ã€‘




## æ‰‹å†™å•ä¾‹æ¨¡å¼

<https://www.bilibili.com/video/BV1834y1m7Eq>

<https://www.bilibili.com/video/BV1Fo4y127zN>

<https://www.bilibili.com/video/BV1iW411S76k>

## æ•°æ®åº“ä¼šæ­»é”å—ï¼Œä¸¾ä¸€ä¸ªæ­»é” ã® ä¾‹å­ï¼Œmysqlæ€ä¹ˆè§£å†³æ­»é”

## äº‹åŠ¡ ã® ç‰¹æ€§ï¼Œéš”ç¦» ã® çº§åˆ«

Mysqläº‹åŠ¡çš„å®ç°åŸç†ï¼š

MySQLé‡Œé¢çš„äº‹åŠ¡æ˜¯æ»¡è¶³ã€ACIDç‰¹æ€§ã€‘çš„ã€‚
åœ¨äºInnoDBï¼Œæ˜¯å¦‚ä½•ä¿è¯ACIDçš„ç‰¹æ€§çš„ã€‚

A ï¼š éœ€è¦ä¿è¯å¤šä¸ªã€DMLæ“ä½œã€‘çš„ã€åŸå­æ€§ã€‘ï¼Œè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ã€‚å¦‚æœå¤±è´¥ï¼Œé‚£ä¹ˆï¼Œå¯¹åŸæœ¬æ‰§è¡ŒæˆåŠŸçš„æ•°æ®ï¼Œéœ€è¦è¿›è¡Œã€å›æ»šã€‘ï¼Œæ‰€ä»¥ï¼Œåœ¨innoDBé‡Œé¢ï¼Œè®¾è®¡äº†ä¸€ä¸ªã€UNDO_LOGè¡¨ã€‘ã€‚

åœ¨ã€äº‹åŠ¡ã€‘æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼ŒæŠŠã€ä¿®æ”¹ä¹‹å‰ã€‘çš„ã€æ•°æ®å¿«ç…§ã€‘ä¿å­˜åˆ°ã€UNDO_LOGè¡¨ã€‘é‡Œé¢ï¼Œä¸€æ—¦å‡ºç°é”™è¯¯ï¼Œå°±ç›´æ¥ä»ã€UNDO_LOGè¡¨ã€‘é‡Œé¢è¯»å–æ•°æ®ï¼Œè¿›è¡Œã€åå‘æ“ä½œã€‘å°±è¡Œäº†ã€‚

Cï¼šå°±æ˜¯æ•°æ®çš„ã€å®Œæ•´æ€§çº¦æŸã€‘æ²¡æœ‰è¢«ç ´åã€‚è€Œæ•°æ®åº“æœ¬èº«ï¼Œä¹Ÿæä¾›äº†åƒã€ä¸»é”®çš„å”¯ä¸€çº¦æŸã€‘ã€å­—æ®µé•¿åº¦ã€‘ã€ç±»å‹ã€‘çš„ä¿éšœ

Iï¼šè¡¨ç¤ºäº‹åŠ¡çš„ã€éš”ç¦»æ€§ã€‘ï¼Œå¤šä¸ªã€å¹¶è¡Œäº‹åŠ¡ã€‘å¯¹åŒä¸€ä¸ªæ•°æ®çš„æ“ä½œï¼Œäº’ä¸å¹²æ‰°ï¼Œä»è€Œé¿å…ã€æ•°æ®æ··ä¹±ã€‘ã€‚InnoDBé‡Œé¢æä¾›äº†4ç§éš”ç¦»çº§åˆ«çš„å®ç°ï¼š

1. RU (æœªæäº¤è¯»)
2. RC (å·²æäº¤è¯»)
3. RR (å¯é‡å¤è¯»)ï¼ˆInnoDBé»˜è®¤ï¼‰
4. Serializable (ä¸²è¡ŒåŒ–)

è¿˜ä½¿ç”¨äº† ã€MVCCæœºåˆ¶ã€‘ï¼Œè§£å†³äº†ã€è„è¯»ã€‘å’Œã€ä¸å¯é‡å¤è¯»ã€‘çš„ä¸€ä¸ªé—®é¢˜ï¼Œ

å¹¶ä¸”ä½¿ç”¨äº†ã€è¡Œé”ã€è¡¨é”ã€‘çš„æ–¹å¼ï¼Œè§£å†³äº†ã€å¹»è¯»ã€‘çš„é—®é¢˜

Dï¼šæŒä¹…æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªè¦äº‹åŠ¡ã€æäº¤æˆåŠŸã€‘ï¼Œé‚£ä¹ˆï¼Œå¯¹äºè¿™ä¸ªæ•°æ®çš„ç»“æœçš„å½±å“ï¼Œä¸€å®šæ˜¯æ°¸ä¹…çš„ã€‚ä¸èƒ½å› ä¸ºã€æ•°æ®åº“å®•æœºã€‘or å…¶ä»–åŸå› ï¼Œå¯¼è‡´ã€æ•°æ®å˜æ›´ã€‘çš„å¤±æ•ˆã€‚

æ•°æ®å‘ç”Ÿå˜æ›´åï¼Œå…ˆæ›´æ–°ã€buffer poolã€‘ï¼Œç„¶ååœ¨ã€åˆé€‚çš„æ—¶é—´ã€‘ï¼ŒæŒä¹…åŒ–åˆ°ã€ç£ç›˜ã€‘ã€‚

åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½å‡ºç°ã€å®•æœºã€‘ï¼Œå¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œæ— æ³•æ»¡è¶³ã€æŒä¹…æ€§ã€‘ã€‚å› æ­¤ï¼ŒInnoDBå¼•å…¥äº†ã€Redo_logã€‘ï¼Œå½“æˆ‘ä»¬é€šè¿‡ã€äº‹åŠ¡ã€‘è¿›è¡Œã€æ•°æ®æ›´æ”¹ã€‘æ—¶ï¼Œé™¤äº†ä¿®æ”¹ã€buffer poolã€‘çš„æ•°æ®ï¼Œè¿˜ä¼šæŠŠä¿®æ”¹å€¼è¿½åŠ åˆ°ã€Redo_logã€‘ã€‚å³ä½¿å®•æœºï¼Œé‡å¯ä»¥åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ã€redo_logã€‘çš„é‡æ–°æ—¥å¿—ï¼Œé‡å†™ä¸€éï¼Œä»è€Œä¿è¯æŒä¹…æ€§ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼ŒMySQLç”¨è¿‡ã€MVCCã€è¡Œé”ã€è¡¨é”ã€UNDO_LOGã€REDO_LOGã€‘ä¿è¯äº†è¿™ä¸ªç‰¹æ€§





## ä»€ä¹ˆæ˜¯æ­»é”ï¼Ÿ

ã€æ­»é”ã€‘æ˜¯ä¸€ç»„ã€äº’ç›¸ç«äº‰èµ„æºã€‘ ã® çº¿ç¨‹ï¼Œå› ä¸ºäº’ç›¸ç­‰å¾…ï¼Œå¯¼è‡´ã€æ°¸ä¹…é˜»å¡ã€‘

å½“`çº¿ç¨‹ A` æŒæœ‰`ç‹¬å é”a`ï¼Œå¹¶å°è¯•å»è·å–`ç‹¬å é” b`  ã®

åŒæ—¶ï¼Œ`çº¿ç¨‹ B` æŒæœ‰`ç‹¬å é” b`ï¼Œå¹¶å°è¯•è·å–`ç‹¬å é” a`  ã® æƒ…å†µä¸‹ï¼Œ

å°±ä¼šå‘ç”Ÿ `AB ä¸¤ä¸ªçº¿ç¨‹`ç”±äº`äº’ç›¸æŒæœ‰å¯¹æ–¹éœ€è¦ ã® é”`ï¼Œè€Œå‘ç”Ÿ ã® `é˜»å¡ç°è±¡`ï¼Œæˆ‘ä»¬ç§°ä¸º`æ­»é”`ã€‚

## å‘ç”Ÿæ­»é” ã® åŸå› ï¼Ÿ

åŸå› æœ‰4ä¸ªï¼š

1. â‘  äº’æ–¥æ¡ä»¶ã€‚ã€ä¸€ä¸ªèµ„æºã€‘åªèƒ½è¢«ã€ä¸€ä¸ªçº¿ç¨‹ã€‘å ç”¨ã€‚
2. â‘¡ å æœ‰ä¸”ç­‰å¾…ã€‚ã€çº¿ç¨‹1ã€‘å·²ç»å–å¾—äº†ã€å…±äº«èµ„æºXã€‘ï¼Œåœ¨ç­‰å¾…ã€å…±äº«èµ„æºYã€‘æ—¶ï¼Œä¸é‡Šæ”¾ã€å·²å æœ‰ã€‘ ã® ã€å…±äº«èµ„æºXã€‘
3. â‘¢ ä¸å¯æŠ¢å ã€‚åœ¨æœªä½¿ç”¨å®Œä¹‹å‰ï¼Œã€å…¶ä»–çº¿ç¨‹ã€‘ä¸èƒ½æŠ¢å ã€çº¿ç¨‹1ã€‘å æœ‰ ã® èµ„æº
4. â‘£ å¾ªç¯ç­‰å¾…ã€‚ã€çº¿ç¨‹1ã€‘ç­‰å¾…ã€çº¿ç¨‹2ã€‘å æœ‰ ã® èµ„æºï¼Œã€çº¿ç¨‹2ã€‘ç­‰å¾…ã€çº¿ç¨‹1ã€‘å æœ‰ ã® èµ„æºï¼Œå½¢æˆã€å¤´å°¾ç›¸æ¥ã€‘ ã® ã€å¾ªç¯ç­‰å¾…å…³ç³»ã€‘

## å¦‚ä½•å»é¿å…æ­»é”ï¼Ÿ

åªè¦æ‰“ç ´ï¼Œä¸Šè¿°ä»»ä¸€æ¡ä»¶ï¼Œå°±èƒ½é¿å…æ­»é”ã€‚

è€Œåœ¨è¿™4ä¸ªæ¡ä»¶ä¸­ï¼Œ

1. â‘  äº’æ–¥æ¡ä»¶ã€‚æ˜¯æ— æ³•è¢«ç ´å ã® ã€‚å› ä¸ºã€é”ã€‘æœ¬èº«å°±æ˜¯é€šè¿‡ã€äº’æ–¥ã€‘æ¥è§£å†³ã€çº¿ç¨‹å®‰å…¨æ€§ã€‘é—®é¢˜ã€‚æ‰€ä»¥å¯¹äºå‰©ä¸‹3ä¸ªï¼Œ
2. â‘¡ å æœ‰ä¸”ç­‰å¾…ã€‚æˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§ç”³è¯·ã€allèµ„æºã€‘ï¼Œè¿™æ ·å°±ä¸å­˜åœ¨ç­‰å¾…äº†
3. â‘¢ ä¸å¯æŠ¢å ã€‚å æœ‰ã€éƒ¨åˆ†èµ„æºã€‘ ã® çº¿ç¨‹ï¼Œè¿›ä¸€æ­¥ç”³è¯·å…¶ä»–èµ„æºæ—¶ï¼Œå¦‚æœç”³è¯·ä¸åˆ°ï¼Œå¯ä»¥ä¸»åŠ¨é‡Šæ”¾å®ƒå æœ‰ ã® èµ„æºã€‚è¿™æ ·ã€ä¸å¯æŠ¢å ã€‘è¿™ä¸ªæ¡ä»¶ï¼Œå°±è¢«ç ´åæ‰äº†ã€‚
4. â‘£ å¾ªç¯ç­‰å¾…ã€‚å¯ä»¥æŒ‰ç…§ã€é¡ºåºã€‘ç”³è¯·èµ„æºï¼Œæ¥è¿›è¡Œé¢„é˜²ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œèµ„æºæ˜¯ã€çº¿æ€§é¡ºåºã€‘ ã® ï¼Œç”³è¯·æ—¶ï¼Œå…ˆç”³è¯·ã€èµ„æºåºå·ã€‘å° ã® ï¼Œå†ç”³è¯·ã€èµ„æºåºå·ã€‘å¤§ ã® ã€‚

æ€» ã® æ¥è¯´ï¼š

1. è¦æ³¨æ„ã€åŠ é”é¡ºåºã€‘ï¼Œç¡®ä¿ã€æ¯ä¸ªçº¿ç¨‹ã€‘æŒ‰ç…§ã€åŒæ · ã® é¡ºåºã€‘è¿›è¡Œã€åŠ é”ã€‘
2. è¦æ³¨æ„ã€åŠ é”æ—¶é™ã€‘ï¼Œå¯ä»¥é’ˆå¯¹ã€é”ã€‘è®¾ç½®ä¸€ä¸ªã€è¶…æ—¶æ—¶é—´ã€‘
3. è¦æ³¨æ„ã€æ­»é”æ£€æŸ¥ã€‘ï¼Œç¡®ä¿åœ¨ç¬¬ä¸€æ—¶é—´å‘ç°ã€æ­»é”ã€‘

å…·ä½“æ¥è®²ï¼š

1. å°½é‡ä½¿ç”¨ tryLock(long timeout, TimeUnit unit) ã® æ–¹æ³•(ReentrantLockã€ReentrantReadWriteLock)ï¼Œè®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œè¶…æ—¶å¯ä»¥é€€å‡ºé˜²æ­¢æ­»é”ã€‚
2. å°½é‡ä½¿ç”¨ `Java. util. concurrent å¹¶å‘ç±»`ä»£æ›¿è‡ªå·±`æ‰‹å†™é”`ã€‚
3. å°½é‡é™ä½é” ã® `ä½¿ç”¨ç²’åº¦`ï¼Œå°½é‡ä¸è¦å‡ ä¸ªåŠŸèƒ½ç”¨åŒä¸€æŠŠé”ã€‚
4. å°½é‡å‡å°‘`åŒæ­¥ ã® ä»£ç å—`ã€‚




## è¯·ä½ è°ˆä¸€ä¸‹CASæœºåˆ¶ï¼Ÿ

æ¯”å¦‚ï¼Œæœ‰ä¸ªã€æˆå‘˜å˜é‡ã€‘å«åšã€stateã€‘ï¼Œå®ƒ ã® é»˜è®¤å€¼æ˜¯ 0ã€‚å…¶ä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ï¼Œå«åšã€doSthã€‘ã€‚è¯¥æ–¹æ³• ã® é€»è¾‘æ˜¯ï¼šå…ˆåˆ¤æ–­ state æ˜¯å¦ä¸º 0ï¼Œå¦‚æœä¸º 0 å°±ä¿®æ”¹ä¸º 1ã€‚

```java
public class Example {
    private int state = 0;
    public void doSth() {
        if (state == 0) {
            state = 1;
            // TODO
        }
    }
}
```

è¿™ä¸ªé€»è¾‘ï¼Œåœ¨ã€å•çº¿ç¨‹ã€‘ç¯å¢ƒä¸‹ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯åœ¨ã€å¤šçº¿ç¨‹ã€‘ç¯å¢ƒä¸‹ï¼Œä¼šå­˜åœ¨ã€åŸå­æ€§é—®é¢˜ã€‘ï¼Œè¿™é‡Œæ˜¯å…¸å‹ ã® ã€Read - Write ã® æ“ä½œã€‘ã€‚

```java
public class Example {
    private volatile int state = 0;
    private static final Unsafe unsafe = Unsafe.getUnsafe();
    private static final long stateOffset;

    static {
        try {
            stateOffset = unsafe.objectFieldOffset(Example.class.getDeclaredField("state"));
        } catch (Exception e) {
            throw new Error(e);
        }
    }
    public void doSth() {
        if (unsafe.compareAndSwapInt(this, stateOffset, 0, 1)) {
            // TODO
        }
    }
}
```



## æœ‰æ²¡å…¶ä»–è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥åœ¨ä¸å½±å“ã€è¿­ä»£å™¨ã€‘ ã® åŒæ—¶ï¼Œå¯¹ã€é›†åˆã€‘è¿›è¡Œã€å¢åˆ ã€‘ï¼Œå¹¶ä¸”è¿˜èƒ½ä¿æŒã€è¾ƒé«˜æ€§èƒ½ã€‘å‘¢ï¼Ÿ

CopyOnWriteArrayList

## ä¸ºä»€ä¹ˆ`é›†åˆ`ä¸ç›´æ¥è®¿é—® `iterator()æ¥å£`ï¼Œè€Œæ˜¯å…ˆè®¿é—® `Iterable()æ¥å£`

æ¯æ¬¡è¿”å›ä¸€ä¸ªã€newè¿­ä»£å™¨ã€‘ï¼Œä¸ºäº†ä¿è¯è¿­ä»£å™¨ ã® `ç‹¬ç«‹æ€§`å’Œ`éš”ç¦»æ€§`

- `ç‹¬ç«‹æ€§`æŒ‡ï¼šä¸åŒã€è¿­ä»£å™¨ã€‘éå†ã€å…ƒç´ ã€‘æ—¶ã€äº’ä¸å½±å“ã€‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œã€Aè¿­ä»£å™¨ã€‘ä¸è®ºæ˜¯éå†åˆ°ã€ç¬¬3ä¸ªå…ƒç´ ã€‘è¿˜æ˜¯ã€ç¬¬5ä¸ªå…ƒç´ ã€‘éƒ½ä¸ä¼šå½±å“åˆ°ã€Bè¿­ä»£å™¨ã€‘

- `éš”ç¦»æ€§`æŒ‡ï¼Œå¦‚æœé›†åˆã€å¢åˆ ã€‘å…ƒç´ ï¼Œä¸èƒ½å½±å“åˆ°ã€å·²æœ‰ ã® è¿­ä»£å™¨ã€‘

ä½†éœ€è¦å®Œå…¨æ»¡è¶³â€œç‹¬ç«‹æ€§â€å’Œâ€œéš”ç¦»æ€§â€ã€‚è¿˜éœ€è¦åšå…¶ä»–å¤„ç†ï¼š

1. æ–¹æ³•ä¸€ï¼šæ¯æ¬¡è·å–ã€è¿­ä»£å™¨ã€‘æ—¶ï¼Œå°†é›†åˆå†…æ‰€æœ‰å…ƒç´ ï¼Œéƒ½å¤åˆ¶ä¸€ä»½åˆ°ã€è¿­ä»£å™¨ã€‘ä¸­ï¼Œè¿™æ ·ã€é›†åˆ ã® å¢åˆ æ“ä½œã€‘å°±ä¸ä¼šå½±å“åˆ°ã€è¿­ä»£å™¨ã€‘

   - ç¼ºç‚¹ï¼šæœ‰å¤šå°‘ä¸ªã€è¿­ä»£å™¨ã€‘å°±è¦å¤åˆ¶å¤šå°‘ä»½ã€æ•°æ®ã€‘ï¼Œä¸¥é‡æµªè´¹èµ„æºã€‚æ­¤å¤–ï¼Œã€å¤åˆ¶æ•°æ®ã€‘æœ¬èº«å°±æ˜¯ä¸€ç§æ¯”è¾ƒè€—æ—¶ ã® æ“ä½œã€‚ä¸ºäº†ä¿è¯ã€å¤åˆ¶ã€‘æ—¶ï¼Œä¸ä¼šæœ‰å…¶ä»–ã€çº¿ç¨‹ã€‘å¯¹ã€å…ƒç´ ã€‘è¿›è¡Œã€å¢åˆ ã€‘ã€‚è¿˜å¾—ç”¨ä¸Šã€é”æœºåˆ¶ã€‘æ¥ä¿è¯ã€çº¿ç¨‹å®‰å…¨ã€‘ï¼Œå¤åˆ¶æ•°æ®å°±æ›´åŠ è€—æ—¶äº†ã€‚

2. æ–¹æ³•äºŒï¼šåœ¨è·å–ã€è¿­ä»£å™¨ã€‘æ—¶ï¼Œè®©ã€è¿­ä»£å™¨ã€‘ä¿å­˜ä¸€ä¸ªã€int æ•°å€¼ã€‘ï¼Œè¿™ä¸ªã€int æ•°å€¼ã€‘æ˜¯ã€é›†åˆ ã® æˆå‘˜å±æ€§ modCountã€‘ï¼Œç”¨æ¥è®°å½•é›†åˆã€å¢åˆ ã€‘æ“ä½œ ã® æ¬¡æ•°ï¼Œåœ¨é›†åˆã€å¢åˆ å…ƒç´ ã€‘æ—¶ï¼Œè¯¥æ•°å€¼å°±ä¼šã€+1ã€‘ã€‚å› ä¸ºã€è¿­ä»£å™¨ã€‘æ˜¯é›†åˆ ã® ã€æˆå‘˜å†…éƒ¨ç±»ã€‘ï¼Œæ‰€ä»¥å¯ä»¥ã€éšæ—¶è®¿é—®ã€‘é›†åˆ ã® ã€æˆå‘˜å±æ€§ã€‘ï¼Œã€è¿­ä»£å™¨ã€‘åœ¨éå†å…ƒç´ æ—¶ï¼Œä¼šæ£€æŸ¥ modCount æ˜¯å¦å’Œã€å½“åˆä¿å­˜ ã® æ•°å€¼ã€‘ä¸€è‡´ã€‚

    ```java
    // Java æºç 
    public class ArrayList implements List {
        transient int modCount = 0; 
        public boolean add(Object obj) {
            modCount ++;
            // çœç•¥å…¶ä»–
            return true;
        }
        public boolean remove(Object obj) {
            modCount ++;
            // çœç•¥å…¶ä»–
            return true;
        }

        public Iterator<E> iterator() {
            return new Itr();
        }

        private class Itr implements Iterator {
            // å¤åˆ¶é›†åˆ ã®  modCount

            int exceptedModCount = modCount;

            public Object next() {
                if (modCount != exceptedModCount) {
                    throw new ConcurrentModificationException();
                }
            }
        }
    }
    ```

   - å¦‚æœä¸ä¸€è‡´ï¼Œå°±ä»£è¡¨é›†åˆåœ¨è·å–ã€è¿­ä»£å™¨ã€‘ä¹‹åï¼Œè¿›è¡Œäº†ã€å¢åˆ ã€‘æ“ä½œï¼Œæ­¤æ—¶ï¼Œè¿­ä»£å™¨å°±ä¼šã€æŠ›å‡ºå¼‚å¸¸ã€‘åœæ­¢è¿­ä»£ã€‚

   - å¦‚æœé‡åˆ°äº†å½±å“ã€æ­£å¸¸é€»è¾‘ã€‘ ã® æƒ…å†µï¼Œè‡ªå·±æ— æ³•å¤„ç†æ—¶ã€‚å¯ä»¥é€‰æ‹©ã€æŠ›å‡ºå¼‚å¸¸ï¼Œç»ˆæ­¢é€»è¾‘ã€‘ã€‚è¿™ç§å¤„ç†æ–¹å¼ç§°ä¸ºâ€œfail-fastâ€ï¼Œå³ã€å¿«é€Ÿå¤±è´¥æœºåˆ¶ã€‘ï¼Œå½“ã€è¿­ä»£å™¨ã€‘å‘ç°ã€é›†åˆã€‘è¿›è¡Œäº†ã€å¢åˆ ã€‘åä¾¿é€‰æ‹©ã€æŠ›å‡ºå¼‚å¸¸ã€‘

   - [Javaé‡Œéå†é›†åˆå‡ºç°å¹¶å‘ä¿®æ”¹å¼‚å¸¸](https://www.bilibili.com/video/BV1xf4y1i7xS)

    ```java
    ArrayList list = new ArrayList();
    list.add("èƒèŸ¹å“¥")
    Iterator iterator = list.iterator();
    list.add("ä¸€é”®ä¸‰è¿")
    iterator.next(); // æŠ›å‡ºå¼‚å¸¸
    ```

   - åœ¨ for each å¾ªç¯ä¸­ï¼Œç›´æ¥å¯¹ã€å…ƒç´ ã€‘è¿›è¡Œã€å¢åˆ ã€‘ï¼Œä¹Ÿä¼šã€æŠ›å‡ºå¼‚å¸¸ã€‘ã€‚å› ä¸ºã€for-eachã€‘æœ¬è´¨ä¸Šå°±æ˜¯ã€è¿­ä»£å™¨ã€‘ ã® ã€è¯­æ³•ç³–ã€‘ã€‚å¯¹é›†åˆè¿›è¡Œã€å¢åˆ ã€‘åå†è¿›è¡Œã€è¿­ä»£ã€‘ï¼Œè‡ªç„¶ä¼šè§¦å‘ã€å¿«é€Ÿå¤±è´¥æœºåˆ¶fail-fastã€‘ã€‚æ‰€ä»¥æƒ³è¦ã€éå†ã€‘å…ƒç´  ã® åŒæ—¶ï¼Œè¿›è¡Œã€å¢åˆ ã€‘æ“ä½œã€‚ã€‚

    ```java
    ArrayList list = new ArrayList();
    list.add("èƒèŸ¹å“¥")
    list.add("ä¸€é”®ä¸‰è¿")

    for (Object o : list) {
        if ("èƒèŸ¹å“¥".equals(o)) {
            list.remove(o);
        }
    }
    ```

## è¿­ä»£å™¨ - è¿­ä»£å™¨ ä¹‹é—´ å…·æœ‰ ç‹¬ç«‹æ€§ å’Œ éš”ç¦»æ€§

`è¿­ä»£å™¨-é›†åˆ` ã® å…³ç³»ï¼š

```java
public interface Iterable {
    Iterator iterator();
}

public interface Collection extends Iterable {
    // ...
}

è¿­ä»£å™¨ ã® ä½¿ç”¨ï¼šcol.iterator()
Collection col = new ArrayList();
Iterator iterator = col.iterator();
while (iterator.hasNext()) {
    System.out.println(iterator.next());
}
```

å¦‚æœæ²¡æœ‰è¿­ä»£å™¨ï¼š

- ä¸€ä¸ªè¿›ç¨‹éå†å®Œ
- å¦ä¸€ä¸ªè¿›ç¨‹ï¼Œæ²¡æœ‰æ•°æ®äº†

å¯ä»¥ç”¨äº `for å¾ªç¯`:

```java
String[] names = {"A", "B", "C", "D"};
StringJoiner sj = new StringJoiner(",", "[", "]");
for (String name : names) {
    sj.add(name);
}
System.out.println(sj); // è¾“å‡ºï¼š[A,B,C,D]
```

`for å¾ªç¯` åº•å±‚ å°±æ˜¯ `è¿­ä»£å™¨`:

```java
public interface Iterator {
    boolean hasNext();
    Object next();
}
```





## ArrayListé»˜è®¤å¤§å°ï¼Œæ‰©å®¹æœºåˆ¶ï¼Ÿæ‰©å®¹ ã® æ—¶å€™å¦‚ä½•å°†æ—§æ•°ç»„è½¬åŒ–ä¸ºæ–°æ•°ç»„ï¼Ÿ

ArrayList æ˜¯ä¸€ä¸ªã€æ•°ç»„ç»“æ„ã€‘çš„ã€å­˜å‚¨å®¹å™¨ã€‘ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯ 10 ä¸ªã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°ç»„çš„é•¿åº¦æ˜¯10ã€‚éšç€ ç¨‹åºä¸æ–­å¾€ã€ArrayListã€‘é‡Œé¢æ·»åŠ æ•°æ®ï¼Œå½“æ·»åŠ çš„æ•°æ®è¾¾åˆ°10ä¸ªçš„æ—¶å€™ï¼ŒArrayList ä¼šè§¦å‘ã€è‡ªåŠ¨æ‰©å®¹ã€‘ã€‚

é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚è¿™ä¸ªæ–°æ•°ç»„çš„é•¿åº¦æ˜¯åŸæ¥çš„1.5å€

ç„¶åï¼Œä½¿ç”¨Arrays.copyOfæ–¹æ³•ï¼ŒæŠŠè€æ•°ç»„é‡Œé¢çš„æ•°æ®copyåˆ°æ–°æ•°ç»„é‡Œé¢ã€‚

ç„¶åï¼ŒæŠŠå½“å‰éœ€è¦æ·»åŠ çš„å…ƒç´ ï¼ŒåŠ å…¥åˆ°æ–°çš„æ•°ç»„é‡Œé¢ï¼Œä»è€Œå»å®Œæˆã€åŠ¨æ€æ‰©å®¹ã€‘çš„è¿‡ç¨‹ã€‚

## HashMapé»˜è®¤å¤§å°ï¼Œæ‰©å®¹æœºåˆ¶ï¼Ÿ

1. å®¹å™¨çš„å¤§å°ï¼Ÿ

å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªã€é›†åˆå¯¹è±¡ã€‘ï¼Œå®é™…ä¸Šï¼Œå°±æ˜¯åœ¨ã€å†…å­˜ã€‘é‡Œé¢ã€ä¸€æ¬¡æ€§ã€‘ç”³è¯·ã€ä¸€å—å†…å­˜ç©ºé—´ã€‘ï¼Œè¿™ä¸ªã€å†…å­˜ç©ºé—´ã€‘çš„å¤§å°ï¼Œæ˜¯åœ¨ã€åˆ›å»ºã€‘ã€é›†åˆå¯¹è±¡ã€‘çš„æ—¶å€™å»æŒ‡å®šçš„ã€‚æ¯”å¦‚ï¼ŒLiistçš„ã€é»˜è®¤å¤§å°ã€‘æ˜¯10ï¼ŒHashMapçš„ã€é»˜è®¤å¤§å°ã€‘æ˜¯16

2. é•¿åº¦ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿ

åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œé€šå¸¸ä¼šé‡åˆ°ã€æ‰©å®¹ã€‘çš„æƒ…å†µã€‚éœ€è¦ã€æ–°å»ºã€‘ä¸€ä¸ªæ›´é•¿çš„ã€æ•°ç»„ã€‘ï¼Œå¹¶æŠŠã€åŸæ¥çš„æ•°æ®ã€‘æ‹·è´åˆ°ã€æ–°çš„æ•°ç»„ã€‘é‡Œé¢

3. HashMapæ˜¯å¦‚ä½•æ‰©å®¹çš„ï¼Ÿ

å½“hashmapé‡Œé¢çš„ã€å…ƒç´ ä¸ªæ•°ã€‘è¶…è¿‡ã€ä¸´ç•Œå€¼ã€‘æ—¶ï¼Œå°±ä¼šè§¦å‘ã€æ‰©å®¹ã€‘ã€‚ã€ä¸´ç•Œå€¼ã€‘çš„è®¡ç®—å…¬å¼ä¸º

```s
ä¸´ç•Œå€¼ = è´Ÿè½½å› å­(0.75) * å®¹é‡å¤§å°(16) = 12
æ‰©å®¹çš„å¤§å°ï¼Œæ˜¯åŸæ¥çš„2å€ã€‚
```

å› æ­¤ï¼Œåœ¨é›†åˆåˆå§‹åŒ–çš„æ—¶å€™ï¼Œæ˜ç¡®æŒ‡å®šé›†åˆçš„å¤§å°ï¼Œé¿å…ã€é¢‘ç¹æ‰©å®¹ã€‘å¸¦æ¥ã€æ€§èƒ½ä¸Šã€‘çš„å½±å“ã€‚

4. ä¸ºä»€ä¹ˆæ‰©å®¹å› å­æ˜¯ 0.75ï¼Ÿ

ã€æ‰©å®¹å› å­ã€‘è¡¨ç¤ºï¼Œhashè¡¨ä¸­å…ƒç´ çš„ã€å¡«å……ç¨‹åº¦ã€‘

ã€æ‰©å®¹å› å­ã€‘è¶Šå¤§ï¼Œåˆ™hashè¡¨çš„ã€ç©ºé—´åˆ©ç”¨ç‡ã€‘æ¯”è¾ƒé«˜ï¼Œä½†æ˜¯ ã€hashå†²çªçš„æ¦‚ç‡ã€‘ä¹Ÿä¼šå¢åŠ ï¼›ã€æ‰©å®¹å› å­ã€‘è¶Šå°ï¼Œé‚£ä¹ˆ ã€hashå†²çªçš„æ¦‚ç‡ã€‘ä¹Ÿå°±è¶Šå°ï¼Œä½†æ˜¯ã€å†…å­˜ç©ºé—´çš„æµªè´¹ã€‘æ¯”è¾ƒå¤šï¼Œè€Œä¸”ã€æ‰©å®¹é¢‘ç‡ã€‘ä¹Ÿä¼šå¢åŠ ã€‚

ã€æ‰©å®¹å› å­ã€‘ä»£è¡¨äº†ã€hashå†²çªçš„æ¦‚ç‡ã€‘ä¸ã€ç©ºé—´åˆ©ç”¨ç‡ã€‘ä¹‹é—´çš„ balanceã€‚åœ¨HashMapçš„ã€é“¾è¡¨é•¿åº¦ã€‘>= 7çš„æ—¶å€™ï¼Œä¼šè½¬åŒ–æˆã€çº¢é»‘æ ‘ã€‘ï¼Œä»è€Œæå‡æ£€ç´¢æ•ˆç‡ã€‚åœ¨æ‰©å®¹å› å­ä¸º 0.75 æ—¶ï¼Œé“¾è¡¨é•¿åº¦è¾¾åˆ° 8 çš„å¯èƒ½æ€§å‡ ä¹ä¸º 0 ã€‚





## æœ‰æ²¡æœ‰ã€é¡ºåºã€‘ ã® ã€Mapå®ç°ç±»ã€‘

LinkedHashMap å’Œ TreeMap

## LRUç¼“å­˜å®ç°åŸç†

åˆ—è¡¨é‡Œé¢çš„ã€å…ƒç´ ã€‘ï¼ŒæŒ‰ç…§ã€è®¿é—®æ¬¡åºã€‘è¿›è¡Œã€æ’åºã€‘

```java
LinkedHashMap cache = new LinkedHashMap(initialCapacity:16,
        loadFactor: 0.75f,
        accessOrder: true);
```

## LinkedHashMap æ˜¯æ€ä¹ˆä¿è¯ã€æœ‰åº ã® ã€‘ï¼Ÿ

LinkedHashMap ä¿å­˜äº†å…ƒç´  ã® ã€æ’å…¥é¡ºåºã€‘ã€‚

å³ä½¿ç”¨äº†ã€HashMap ã® æ•°æ®ç»“æ„ã€‘ï¼Œåˆå€Ÿç”¨äº†ã€LinkedList ã® åŒå‘é“¾è¡¨ç»“æ„ã€‘

```java
javaæºç 

// é™æ€å†…éƒ¨ç±» â†’ ç»§æ‰¿äº†HashMapçš„ã€Nodeå†…éƒ¨ç±»ã€‘
static class Entry<K,V> extends HashMap.Node<K,V> {
    Entry<K, V> before, after;
    Entry(int hash, K key, V value, Node<K,V> next) {
        super(hash, key, value, next);
    }
}
```

HashMapçš„ã€Nodeå†…éƒ¨ç±»ã€‘å®ç°äº†ã€æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ã€‘çš„ç»“æ„

LinkedHashMapçš„ã€Entryå†…éƒ¨ç±»ã€‘ä¿ç•™äº†è¯¥æ•°æ®ç»“æ„ï¼Œå¹¶é€šè¿‡ã€beforeã€afterã€‘å®ç°äº†ã€åŒå‘é“¾è¡¨ç»“æ„ã€‘

## TreeMap æ˜¯æ€ä¹ˆä¿è¯ã€æœ‰åº ã® ã€‘ï¼Ÿ

TreeMap æ˜¯æŒ‰ç…§ ã€Key ã® è‡ªç„¶é¡ºåºã€‘ or ã€Comparator ã® é¡ºåºã€‘è¿›è¡Œæ’åºã€‚

é€šè¿‡ã€çº¢é»‘æ ‘ã€‘æ¥å®ç°

```java
public V put(K key, V value) {
    Entry<K, V> t = root;
    if (t == null) {
        compare(key, key);
        root = new Entry<>(key, value, null);
        size = 1;
        modCount++;
        return null;
    }
}

final int compare(Object k1, Object k2) {
    return comparator == null ? ((Comparable<? super k>) k1).compareTo((K) k2) : comparator.compare((K)k1, (K)k2)
}
```

## Comparatoræ¯”è¾ƒå™¨çš„ä½¿ç”¨

[è®¾è®¡æºäºç”Ÿæ´»ä¸­](https://www.bilibili.com/video/BV1KT4y1A7no)

```java
public static class Dog {
    public String name;
    public int price;

    public Dog (String name, int price) {
        this.name = name;
        this.price = price;
    }

    @Override
    public String toString() {
        return "Dog{" + "name = '" + name + '\'' + ",price = " + price + '}';
    }

    public static void main(String[] args) {
        Dog[] dogs = {
            new Dog(name: "wc001", price: 900),
            new Dog(name: "wc001", price: 500),
            new Dog(name: "wc001", price: 200),
            new Dog(name: "wc001", price: 700),
            new Dog(name: "wc001", price: 500),
        }

        ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºã€æ¯”è¾ƒå™¨ã€‘
        Comparator<Dog> dogComparator = new Comparator<Dog> {
            @Override
            public int compare(Dog o1, Dog o2) {
                return o1.price - o2.price;
            }
        }
        ç¬¬äºŒæ­¥ï¼šç”¨ã€æ¯”è¾ƒå™¨ã€‘æ’åº
        Arrays.sort(dogs, dogComparator);

        Arrays.asList(dogs).forEach(System.out::println);
    }
}

è¾“å‡ºï¼š

new Dog(name: "wc001", price: 200)
new Dog(name: "wc001", price: 500)
new Dog(name: "wc001", price: 500)
new Dog(name: "wc001", price: 700)
new Dog(name: "wc001", price: 900)

```



## è°ˆè°ˆä½ å¯¹çº¿ç¨‹å®‰å…¨çš„ç†è§£ï¼Ÿ

<https://www.bilibili.com/video/BV1ei4y1U7HW>

## çº¿ç¨‹å®‰å…¨ ã® å•ä¾‹æ¨¡å¼

## å¦‚ä½•ä¿è¯çº¿ç¨‹å®‰å…¨

[List ã® çº¿ç¨‹å®‰å…¨å®ç°æœ‰å“ªäº›](https://www.bilibili.com/video/BV1ag41177nn)

## SimpleDateFormat æ˜¯çº¿ç¨‹å®‰å…¨çš„å—

<https://www.bilibili.com/video/BV1zS4y1x7qD>

## æ¥å£`methodåç§°`å†²çª

`ç±»` ã® ä¼˜å…ˆçº§æ¯”`æ¥å£`é«˜

`å­ç±»` ã® ä¼˜å…ˆçº§æ¯”`çˆ¶ç±»`é«˜

ä¸€è¨€ä»¥è”½ä¹‹ï¼ï¼ï¼å°±æ˜¯è¶Šå…·ä½“ ã® è¶Šä¼˜å…ˆ

```java
å½“æ— æ³•åŒºåˆ†æ—¶ï¼Œå¿…é¡»é‡å†™æ–¹æ³•ï¼šA.super.run()

public interface A {
    default void run() {
        System.out.println("A RUN")
    }
}

public interface B {
    default void run() {
        System.out.println("B RUN")
    }
}

public class Son implements A, B {
    public static void main(String[] args) {
        new Son().run();
    }

    @Override
    public void run() {
        A.super.run(); // æ‰“å° A Run
    }
}
```

## java ä¸­ å°±`åŸºæœ¬ç±»å‹`ä¸æ˜¯`å¯¹è±¡`

| åŸºæœ¬ç±»å‹  | åŒ…è£…ç±»å‹  |
|---|---|
| byte  | Byte  |
| short  | Short  |
| int  | Integer  |
| long  | Long  |
| float  | Float  |
| double  | Double  |
| boolean  | Boolean  |
| char  | Character  |

é™¤äº† Float,Double è¿™ä¸¤ç§ã€æµ®ç‚¹æ•°ç±»å‹ã€‘çš„ã€åŒ…è£…ç±»ã€‘æ²¡æœ‰å®ç°ã€å¸¸é‡æ± æŠ€æœ¯ã€‘

```java
// ã€æµ®ç‚¹ç±»å‹ã€‘çš„ã€åŒ…è£…ç±»ã€‘æ²¡æœ‰å®ç°ã€å¯¹è±¡æ± æŠ€æœ¯ã€‘
Double d1 = 1.0;
Double d2 = 1.0;
System.out.println(d1 - d2); // è¾“å‡º false
```

## equalså’Œ==åŒºåˆ«ï¼Ÿ

| ==  | equals  |
|---|---|
| åŸºæœ¬æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒã€å€¼ã€‘  |   |
| å¼•ç”¨æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒã€å¼•ç”¨åœ°å€ã€‘  | å¼•ç”¨æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒã€å¼•ç”¨å¯¹è±¡çš„å†…å®¹ã€‘  |

é™¤äº†8ç§ã€åŸºæœ¬æ•°æ®ç±»å‹ã€‘ï¼Œå…¶ä½™çš„éƒ½æ˜¯ã€å¼•ç”¨æ•°æ®ç±»å‹ã€‘ï¼š

åŒºåˆ«ï¼š

| åŸºæœ¬æ•°æ®ç±»å‹  | å¼•ç”¨æ•°æ®ç±»å‹  |
|---|---|
| å­˜åœ¨stackä¸­  | åœ¨stackä¸­å­˜å‚¨äº†ã€åœ°å€ã€‘ï¼Œæ•°æ®å­˜åœ¨heapä¸­  |
| ä¸ç”¨newï¼Œç›´æ¥èµ‹å€¼  | ç”¨newåˆ›å»º  |
| åˆå§‹å€¼å„ä¸ç›¸åŒï¼Œintçš„åˆå§‹å€¼ä¸º0ï¼Œfloatçš„åˆå§‹å€¼ä¸º0.0F  | åˆå§‹å€¼éƒ½æ˜¯null  |
| æ²¡æœ‰ã€å±æ€§andæ–¹æ³•ã€‘  |æœ‰å„è‡ªçš„ã€å±æ€§andæ–¹æ³•ã€‘  |

equalså¯ä»¥é‡å†™ï¼Œæ¯”å¦‚ï¼Œstringç±»å°±é‡å†™äº†equalsæ–¹æ³•ï¼Œå®ç°äº†equalsæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„ã€å­—ç¬¦ä¸²åºåˆ—ã€‘ï¼š

```java
// stringç±»ä¸­çš„equalsæ–¹æ³•
public boolean equals(Object obj) {
    if (this == obj) {
        return true;
    }
    if (obj instanceof String) {
        String anotherString = (String) obj;
        int n = value.length;
        if (n == anotherString.value.length) {
            char v1[] = value;
            char v2[] = anotherString.value;
            int i = 0;
            while (n-- != 0) {
                if (v1[i] != v2[i]){
                    return false;
                }
                i++;
            }
            return true;
        }

    }
}
```

## ä¸ºä»€ä¹ˆä¸¤ä¸ª Integerå¯¹è±¡ ä¸èƒ½ç”¨ == æ¥åˆ¤æ–­ï¼Ÿ

Integer æ˜¯ä¸€ä¸ªã€å°è£…ç±»å‹ã€‘ã€‚

å®ƒå¯¹åº” ã® æ˜¯ä¸€ä¸ªã€intç±»å‹ã€‘ ã® åŒ…è£…ã€‚

åœ¨javaé‡Œé¢ï¼Œä¹‹æ‰€ä»¥è¦æä¾› Intergerï¼Œæ˜¯å› ä¸º Java æ˜¯ä¸€ä¸ªã€é¢å‘å¯¹è±¡ã€‘ ã® è¯­è¨€ï¼Œ

è€Œã€åŸºæœ¬ç±»å‹ã€‘ä¸å…·å¤‡ã€å¯¹è±¡ã€‘ ã® ç‰¹å¾ï¼Œ

æ‰€ä»¥åœ¨ã€åŸºæœ¬ç±»å‹ã€‘ä¹‹ä¸Šï¼Œåšäº†ä¸€å±‚ã€å¯¹è±¡ã€‘ ã® åŒ…è£…ï¼Œä»è€Œèƒ½å¤Ÿå®Œæˆã€åŸºæœ¬ç±»å‹ã€‘ ã® ä¸€äº›æ“ä½œã€‚

----------------------------------------------

åœ¨ã€å°è£…ç±»å‹ã€‘é‡Œé¢ï¼Œé™¤äº†ã€intç±»å‹ ã® æ“ä½œã€‘ä»¥å¤–ï¼Œ

è¿˜åŒ…æ‹¬ã€äº«å…ƒæ¨¡å¼ã€‘ ã® è®¾è®¡ï¼Œå¯¹äºã€-128 åˆ° 127ä¹‹é—´ã€‘ ã® æ•°æ®åšäº†ä¸€å±‚ç¼“å­˜ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼ŒInteger åœ¨ã€-128 åˆ° 127ä¹‹é—´ã€‘ï¼Œå°±ç›´æ¥åœ¨ç¼“å­˜é‡Œé¢è·å–ã€Integer å¯¹è±¡ ã® å®ä¾‹ã€‘å¹¶ä¸”è¿”å›ã€‚

å¦åˆ™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªã€new ã® integerå¯¹è±¡ã€‘ï¼Œä»è€Œå‡å°‘ã€é¢‘ç¹åˆ›å»ºã€‘å¸¦æ¥ ã® å†…å­˜æ¶ˆè€—ï¼Œä»è€Œæå‡æ€§èƒ½ã€‚

å¦‚æœï¼Œä¸¤ä¸ªInteger å¯¹è±¡ï¼Œéƒ½åœ¨ã€-128 åˆ° 127ä¹‹é—´ã€‘ï¼Œå¹¶ä¸”ï¼Œæˆ‘ä»¬ä½¿ç”¨ã€==ã€‘åˆ¤æ–­ï¼Œè¿”å› ã® ç»“æœå¿…ç„¶æ˜¯TRUEã€‚å› ä¸ºï¼Œè¿™ä¸¤ä¸ªInteger å¯¹è±¡ï¼ŒæŒ‡å‘ ã® ã€å†…å­˜åœ°å€ã€‘æ˜¯åŒä¸€ä¸ªã€‚

æ³¨æ„ï¼šåœ¨ã€æµ‹è¯•ç¯å¢ƒã€‘æ•°æ®æ˜¯æœ‰é™ ã® ï¼Œæ­£å¥½åœ¨ã€Integer  ã® ç¼“å­˜åŒºé—´ã€‘ï¼Œå¯¼è‡´æµ‹è¯•é€šè¿‡ã€‚ä½†åœ¨ã€ç”Ÿå­˜ç¯å¢ƒã€‘ï¼Œæ•°æ®é‡è¶…å‡ºäº†ã€ç¼“å­˜åŒºé—´ã€‘ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´ã€ç”Ÿäº§äº‹æ•…ã€‘

## hashCode() + equals()

| hashCode()  | equals()  |
|---|---|
| ç”¨äºç¡®å®šå¯¹è±¡åœ¨`hashè¡¨`ä¸­ ã® `ç´¢å¼•ä½ç½®` | ç”¨äºæ¯”è¾ƒå‡ºç°`å“ˆå¸Œå†²çª` ã® ä¸¤ä¸ªå€¼  |
| ç”¨äº`å¿«é€Ÿæ¯”è¾ƒæ•°å€¼`ï¼Œå®¹æ˜“å‡ºç°`å“ˆå¸Œå†²çª` |  |

## é‡å†™hashCodeæˆ–equalsæ–¹æ³•éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ ä¸ºä»€ä¹ˆé‡å†™equalsè¦é‡å†™hashcodeï¼Ÿhashcode()æ–¹æ³•åŸç†

å¦‚éå¿…è¦ï¼Œä¸è¦é‡å†™ã€equalsã€‘ã€‚å¦‚æœã€å­ç±»ã€‘ä»ã€çˆ¶ç±»ã€‘ç»§æ‰¿äº†ã€allå±æ€§andæ–¹æ³•ã€‘ï¼Œå°±ä¸ç”¨é‡å†™ï¼›å¦‚æœã€å­ç±»ã€‘è‡ªèº«æ‹“å±•äº†ã€å±æ€§andæ–¹æ³•ã€‘ï¼Œå°±éœ€è¦é‡å†™ï¼›

å¦‚æœé‡å†™äº†ã€equalsæ–¹æ³•ã€‘çš„ç±»ï¼Œä¹Ÿå¿…é¡»é‡å†™ã€hashCodeæ–¹æ³•ã€‘ã€‚å¦‚æœä¸è¿™æ ·åšçš„è¯ï¼Œå°±ä¼šå¯¼è‡´ã€è¯¥ç±»ã€‘æ— æ³•ä¸ã€hashmapã€hashSetã€HashTableã€‘ç­‰ä¸€èµ·æ­£å¸¸è¿ä½œã€‚

æ­¤å¤–ï¼Œequalsè¿˜æœ‰ç¯‡ã€é‡å†™è§„èŒƒã€‘ï¼š

- è‡ªåæ€§ã€‚å¯¹äºä»»ä½•ã€énullã€‘çš„ã€å¼•ç”¨å€¼xã€‘ï¼Œx.equals(x) å¿…é¡»è¿”å› true
- å¯¹ç§°æ€§ã€‚å¯¹äºä»»ä½•ã€énullã€‘çš„ã€å¼•ç”¨å€¼xã€‘å’Œã€å¼•ç”¨å€¼yã€‘ã€‚å¦‚æœ y.equals(x) è¿”å› trueï¼Œé‚£ä¹ˆ x.equals(y) å¿…é¡»è¿”å› true
- ä¼ é€’æ€§ã€‚å¯¹äºä»»ä½•ã€énullã€‘çš„ã€å¼•ç”¨å€¼xã€‘å’Œã€å¼•ç”¨å€¼yã€‘å’Œã€å¼•ç”¨å€¼zã€‘ã€‚å¦‚æœ x.equals(y) è¿”å› trueï¼Œ y.equals(z) è¿”å› trueï¼Œé‚£ä¹ˆ x.equals(z) å¿…é¡»è¿”å› true
- ä¸€è‡´æ€§ã€‚å¯¹äºä»»ä½•ã€énullã€‘çš„ã€å¼•ç”¨å€¼xã€‘å’Œã€å¼•ç”¨å€¼yã€‘ã€‚åªè¦ã€æ¯”è¾ƒå¯¹è±¡çš„ä¿¡æ¯ã€‘ä¸å˜ï¼Œå¤šæ¬¡è°ƒç”¨ï¼Œè¦ä¹ˆä¸€è‡´è¿”å› TRUEï¼Œè¦ä¹ˆä¸€è‡´è¿”å› FALSEã€‚
- å¯¹äºä»»ä½•ã€énullã€‘çš„ã€å¼•ç”¨å€¼xã€‘ï¼Œx.equals(null) å¿…é¡»è¿”å› false

## å¸¸ç”¨å“ªäº›æ•°æ®é›†åˆï¼Œä»‹ç»hashset

[HashSetå†…éƒ¨æ˜¯å¦‚ä½•å·¥ä½œ ã®](https://www.bilibili.com/video/BV1sq4y1971k)

## intå’Œintegeræœ‰ä»€ä¹ˆåŒºåˆ«

åŒã€åŸºæœ¬æ•°æ®ç±»å‹ã€‘å’Œã€å¼•ç”¨æ•°æ®ç±»å‹ã€‘çš„åŒºåˆ«

## æ•°ç»„ æ¯”è¾ƒ

```java
import java.util.Arrays;
public class Main {
    public static void main(String[] args) {
        int[] array = {2,5,-2};
        int[] array1 = {2,5,-2};
        int[] array2 = {2,5,-3};
        System.out.println(Arrays.equals(array,array1)); THRE
        System.out.println(Arrays.equals(array,array2)); FALSE
    }
}
```

## `==` å’Œ `equals`

```java
`==`æ¯”è¾ƒ ã® æ˜¯ã€å€¼ã€‘ï¼š
int a = 8;
int b = 8;
System.out.println(a == b); // âœŒtrue

Long a = 8L;
System.out.println(a.equals(8)); // âŒfalse
System.out.println(a == 8);      // âœŒtrue


-------------------------------------
`==`æ¯”è¾ƒ ã® æ˜¯ã€å¯¹è±¡ ã® å†…å­˜åœ°å€ã€‘ï¼š
`equals`æ¯”è¾ƒ ã® æ˜¯ã€å¯¹è±¡ ã® å†…å®¹ã€‘ï¼š
Person p1 = new Person("å¼ ä¸‰");
Person p2 = p1;
System.out.println(p1 == p2); // âœŒtrue

-------------------------------------
Person p3 = new Person("å¼ ä¸‰");
Person p4 = new Person("å¼ ä¸‰");
System.out.println(p3 == p4);      // âŒfalse
System.out.println(p3.equals(p4)); // âœŒtrue
```

å¦‚ä½•é¿å…`ç©ºæŒ‡é’ˆ`å¼‚å¸¸?

`Objects.equals`å¯ä»¥æœ‰æ•ˆé¿å…`ç©ºæŒ‡é’ˆå¼‚å¸¸`

```java
String s1 = null;
String s2 = new String("èƒèŸ¹å“¥");
System.out.println("èƒèŸ¹å“¥".equals(s1));     // âœŒ æ­£å¸¸è¿è¡Œ
System.out.println(Objects.equals(s1, s2)); // âœŒ æ­£å¸¸è¿è¡Œ 
System.out.println(s1.equals(s2));          // ç©ºæŒ‡é’ˆå¼‚å¸¸
```

## åŒ…è£…ç±»å‹ ç¼“å­˜æ± 

å¦‚æœã€ç¼“å­˜æ± ã€‘æœ‰ï¼Œç›´æ¥è¿”å›ã€ç¼“å­˜å¯¹è±¡ã€‘
å¦‚æœã€ç¼“å­˜æ± ã€‘æ²¡æœ‰ï¼Œåœ¨ã€å †ç©ºé—´ã€‘åˆ›å»ºæ–° ã® å¯¹è±¡

```java
Integer a = 8;
Integer b = 8;
Integer c = Integer.valueOf(8);
Integer d = new Integer(8);
System.out.println(a == b); // âœŒtrue
System.out.println(a == c); // âœŒtrue
System.out.println(a == d); // âŒfalse

a = 128;
b = 128;
System.out.println(a == b);      // âŒfalse
System.out.println(a.equals(b)); // âœŒtrue

```

## å…¶ä¸­hashCodeæ–¹æ³• ã® `è¿”å›å€¼`æ˜¯ä»€ä¹ˆï¼Ÿ

<https://www.bilibili.com/video/BV1WR4y1J7T4>


## HashMapçš„Putæ–¹æ³•

<https://www.bilibili.com/video/BV1MR4y1F7Jf>

## hashmap æ˜¯å¦‚ä½•è§£å†³hashå†²çªçš„ï¼Ÿ

<https://www.bilibili.com/video/BV1Y341137uj>



## Hashmapå’ŒTreemap ã® åŒºåˆ«

## linkedlist

```java
public static void main(String[] args) {
    ç”¨é“¾è¡¨å®ç°é˜Ÿåˆ—
    LinkedList queue = new LinkedList(); 
    queue.add(5);
    queue.add(7);
    queue.add(3);

    FIFO å…ˆè¿›å…ˆå‡º
    System.out.println(queue.removeFirst());
    System.out.println(queue.removeFirst());
    System.out.println(queue.removeFirst());
    æ‰“å°å‡º 573

    FILO å…ˆè¿›åå‡º
    System.out.println(queue.removeLast());
    System.out.println(queue.removeLast());
    System.out.println(queue.removeLast());
    æ‰“å°å‡º 375
}
```

## arraylist å’Œlinkedlist åŒºåˆ«ï¼Œä¸ºä»€ä¹ˆarrylistæŸ¥è¯¢å¿«

<https://www.bilibili.com/video/BV1xe4y1973f>

## ArrayList å’Œ LinkedList çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

<https://www.bilibili.com/video/BV1Vu411z7ws>

æ•°æ®ç»“æ„å®ç°ï¼šArrayList æ˜¯åŠ¨æ€æ•°ç»„çš„æ•°æ®ç»“æ„å®ç°ï¼Œè€Œ LinkedList æ˜¯åŒå‘é“¾è¡¨çš„æ•°æ®ç»“æ„å®ç°ã€‚
éšæœºè®¿é—®æ•ˆç‡ï¼šArrayList æ¯” LinkedList åœ¨éšæœºè®¿é—®çš„æ—¶å€™æ•ˆç‡è¦é«˜ï¼Œå› ä¸º LinkedList æ˜¯çº¿æ€§çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œæ‰€ä»¥éœ€è¦ç§»åŠ¨æŒ‡é’ˆä»å‰å¾€åä¾æ¬¡æŸ¥æ‰¾ã€‚
å¢åŠ å’Œåˆ é™¤æ•ˆç‡ï¼šåœ¨éé¦–å°¾çš„å¢åŠ å’Œåˆ é™¤æ“ä½œï¼ŒLinkedList è¦æ¯” ArrayList æ•ˆç‡è¦é«˜ï¼Œå› ä¸º ArrayList å¢åˆ æ“ä½œè¦å½±å“æ•°ç»„å†…çš„å…¶ä»–æ•°æ®çš„ä¸‹æ ‡ã€‚
ç»¼åˆæ¥è¯´ï¼Œåœ¨éœ€è¦é¢‘ç¹è¯»å–é›†åˆä¸­çš„å…ƒç´ æ—¶ï¼Œæ›´æ¨èä½¿ç”¨ ArrayListï¼Œè€Œåœ¨æ’å…¥å’Œåˆ é™¤æ“ä½œè¾ƒå¤šæ—¶ï¼Œæ›´æ¨èä½¿ç”¨ LinkedListã€‚

<https://www.bilibili.com/video/BV1uA411J7gK>

|  ArrayList | LinkedList   |
|---|---|
| åº•å±‚æ˜¯ã€æ•°ç»„ã€‘  | åº•å±‚æ˜¯ã€é“¾è¡¨ã€‘  |
| æŸ¥è¯¢ï¼Œé€Ÿåº¦æ›´å¿«  | å¢åˆ ï¼Œé€Ÿåº¦æ›´å¿«  |
|   | æ›´å å†…å­˜  |

<https://www.bilibili.com/video/BV1QW41167Gn>

## è¿½é—®ï¼šHashMapåœ¨å“ªä¸ªjdkç‰ˆæœ¬ä½¿ç”¨çº¢é»‘æ ‘ï¼Œä¹‹å‰ ã® å®ç°æ–¹æ³•æ˜¯ä»€ä¹ˆï¼Ÿ

## hashmap putè¿‡ç¨‹

## é›†åˆ

Collection:

- List (ArrayList)
- Queue (LinkedList)(ArrayDeque)
- Set (HashSet)

Map:

- HashMap (LinkedHashMap)

[javaä¸­LinkedHashMapå’ŒTreeMapæ˜¯å¦‚ä½•ä¿è¯é¡ºåºçš„ï¼Ÿ](https://www.bilibili.com/video/BV1e44y1x7GS)

## hashç®—æ³• ã® æœ‰å“ªå‡ ç§ï¼Œä¼˜ç¼ºç‚¹ï¼Œä½¿ç”¨åœºæ™¯

## ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§hash

<https://www.bilibili.com/video/BV193411u7Lq>

## Hashè¡¨æ˜¯æ€ä¹ˆå®ç° ã®

## is-a å’Œ has-a ç»§æ‰¿

- is-aï¼šåˆ¤æ–­ã€çˆ¶å­ç±»ã€‘ ã® å…³ç³»
- has-aï¼šåˆ¤æ–­ã€ç±»ã€‘ä¸ã€æˆå‘˜ã€‘ ã® å…³ç³»

```java
å®šä¹‰ä¸€ä¸ªã€æˆå‘˜å˜é‡ã€‘ä¸ºã€ç¿…è†€ã€‘ï¼š
public class Bird extends Animal {
    private String wings;
}
```

```java
å¦‚ä½•åˆ¤æ–­æ˜¯å¦æ˜¯ç»§æ‰¿å…³ç³»ï¼Ÿ

Dog is a Animal? ( â€¢Ì€ Ï‰ â€¢Ì )yes
Cat is a Animal? ( â€¢Ì€ Ï‰ â€¢Ì )yes

Dog dog = new Dog(); //âœŒ æˆåŠŸ
Cat cat = new Cat(); //âœŒ æˆåŠŸ
Animal animal1 = new Dog(); //âœŒ æˆåŠŸ
Animal animal2 = new Cat(); //âœŒ æˆåŠŸ
Dog dog =  new  animal; // âŒ ã€ç¼–è¯‘ã€‘æŠ¥é”™
Dog dog =  new  animal; // âŒ ã€ç¼–è¯‘ã€‘æŠ¥é”™

Animal animal = new Dog();
Dog dog = animal; //âŒ ã€ç¼–è¯‘ã€‘æŠ¥é”™

Animal animal = new Dog();
Dog dog = (Dog) animal; //âœŒ æˆåŠŸ

Animal animal = new Dog();
Cat cat = (Cat) animal; //âŒ ã€è¿è¡Œã€‘æŠ¥é”™

public static void shower(Animal animal) {
    // ...
}

public static void main(String[] args) {
    shower(new Dog());
    shower(new Cat());
}
```

```java
java14 åœ¨ instanceof ä¹‹åï¼Œç›´æ¥å£°æ˜å˜é‡:


Animal animal = new Dog();
// Java 14 ä¹‹å‰
if (animal instance of Dog) {
    Dog dog = (Dog) animal; //âœŒ æˆåŠŸ
}

// Java 14 ç›´æ¥å£°æ˜å˜é‡:
if (animal instance of Dog dog) {
}
```

## Javaä¸­ ã® åå°„ï¼ˆä¸äº†è§£ï¼Œæ²¡é—®ï¼‰

<https://www.bilibili.com/video/BV1L34y1S7a1>

## ä»€ä¹ˆæ—¶å€™ç”¨å¤šæ€

<https://www.bilibili.com/video/BV18W411C7TC>

## å¤šæ€

å¤šæ€ ã® å¿…è¦æ¡ä»¶ï¼š

1. è¦æœ‰å¼•ç”¨
2. `çˆ¶ç±»å¼•ç”¨`æŒ‡å‘`å­ç±»å¯¹è±¡`

```java
class Animal {
    public void eat() {
        System.out.println("å® ç‰©åƒä¸œè¥¿å•¦~");
    }
}

class å“ˆå£«å¥‡ extends Animal {
    @Override
    public void eat() {
        System.out.println("å“ˆå£«å¥‡åƒä¸œè¥¿å•¦~");
    }
}

class ä¸œåŒ—è™ extends Animal {
    @Override
    public void eat() {
        System.out.println("ä¸œåŒ—è™åƒä¸œè¥¿å•¦~");
    }
}

class åŠ è²çŒ« extends Animal {
    @Override
    public void eat() {
        System.out.println("åŠ è²çŒ«åƒä¸œè¥¿å•¦~");
    }
}

public void helpEat(Animal a) {
    a.eat();
}

helpEat(å“ˆå£«å¥‡);
helpEat(ä¸œåŒ—è™);
helpEat(åŠ è²çŒ«);
```

## æ–¹æ³•é‡è½½å’Œæ–¹æ³•é‡å†™

| é‡è½½  | é‡å†™  |
|---|---|
| ã€æ–¹æ³•åã€‘ç›¸åŒ  | ã€æ–¹æ³•åã€‘ç›¸åŒ  |
| ã€å‚æ•°åˆ—è¡¨ã€‘ä¸åŒ  | ã€å‚æ•°åˆ—è¡¨ã€‘ç›¸åŒ  |
| ä¸ã€`è¿”å›å€¼`ç±»å‹ã€‘æ— å…³  | ã€`è¿”å›å€¼`ç±»å‹ã€‘ä¸ã€çˆ¶ç±»ã€‘ä¸€è‡´ï¼Œæˆ–è€…æ˜¯ã€çˆ¶ç±»æ–¹æ³•ã€‘çš„ã€å­ç±»ã€‘  |
| å¯ä»¥é‡è½½ã€å½“å‰ç±»ã€‘çš„methodï¼Œä¹Ÿå¯ä»¥é‡è½½ã€çˆ¶ç±»ã€‘çš„method  | åœ¨ã€å­ç±»ã€‘ä¸­å®šä¹‰å’Œã€çˆ¶ç±»ã€‘å®Œå…¨ä¸€è‡´çš„æ–¹æ³•  |

ã€å‚æ•°åˆ—è¡¨ã€‘ä¸åŒåˆ†ã€3ç§ã€‘æƒ…å†µï¼š

- å‚æ•°ä¸ªæ•°
- å‚æ•°ç±»å‹
- å‚æ•°é¡ºåº

## method overload æ–¹æ³•é‡è½½

`methodåå­—`å¯ä»¥ä¸€è‡´ï¼Œä½†`å‚æ•°åˆ—è¡¨`å¿…é¡»ä¸ä¸€è‡´

```java
class DoubleClass{
    int height;
    DoubleClass() {
        System.out.println("No parameter constructor");
        height = 444;
    }
    DoubleClass(int i) {
        System.out.println("No parameter is " + i);
        height = i;
    }
    void info() {
        System.out.println("No parameter is " + height);
    }
    void info(string s) {
        System.out.println(s + "No parameter is " + height);
    }
}
public class Main {
    public static void main(string[] args){
        è¿™é‡Œæ˜¯non staticï¼Œæ‰€ä»¥å¿…é¡»newä¸€ä¸ª
        DoubleClass tmp = new DoubleClass(3)
        new DoubleClass()

        tmp.info();
        tmp.info("é‡è½½ ã® ï¼š");
    }
}
```

## å¯å˜å‚æ•°

```java
ã€æ–¹æ³•é‡è½½ã€‘æ—¶ï¼Œé¦–å…ˆï¼ŒåŒ¹é…ã€å›ºå®šå‚æ•°ã€‘ï¼š

public static void printNames(String name1) {
    System.out.println("æ–¹æ³• 1");
}

public static void printNames(String name1, String name2) {
    System.out.println("æ–¹æ³• 2");
}

public static void printNames(String... names) {
    System.out.println("æ–¹æ³• 3");
}

public static void main(String[] args) {
    printNames("å¼ ä¸‰"); // æ–¹æ³• 1
    printNames("å¼ ä¸‰", "æå››"); // æ–¹æ³• 2
    printNames("å¼ ä¸‰", "æå››", "ç‹äº”"); // æ–¹æ³• 3
}
```

```java
ã€å¯å˜å‚æ•°ã€‘å¿…é¡»æ”¾åœ¨ã€å›ºå®šå‚æ•°ã€‘ ã® åé¢ï¼š
public static void printNames(String name1, String... names) {
    //...
}
```

ã€å¯å˜å‚æ•°ã€‘ ä¸ ã€æ•°ç»„ã€‘  ã® åŒºåˆ«ï¼š

```java
ã€å¯å˜å‚æ•°ã€‘ï¼š

public static void printNames(String... names) {
    for (String name : names) {
        System.out.println(name + "");
    }
}

public static void main(String[] args) {
    printNames(); // å¯ä»¥ä¸ä¼ å‚
    printNames("å¼ ä¸‰"); // ä¼ å‚ 1 ä¸ª
    printNames("å¼ ä¸‰", "æå››"); // ä¼ å‚ n ä¸ª
}

ã€æ•°ç»„ã€‘ï¼š

public static void printNames(String[] names) {
    for (String name : names) {
        System.out.println(name + "");
    }
}

public static void main(String[] args) {
    printNames(null); // å¯ä»¥ä¼  ã€nullã€‘
    printNames({"å¼ ä¸‰"}); // éœ€è¦æ„å»º ã€æ•°ç»„ã€‘
    printNames({"å¼ ä¸‰", "æå››"}); 
    printNames(new String[] {"å¼ ä¸‰"}); // éœ€è¦æ„å»º ã€æ•°ç»„ã€‘
    printNames(new String[] {"å¼ ä¸‰", "æå››"}); 
}
```

## å†…éƒ¨ç±»ï¼ˆé™æ€ã€æˆå‘˜ã€å±€éƒ¨ã€åŒ¿åï¼‰

ä½œç”¨ ã® èŒƒå›´ä¸åŒï¼š

- ç¨‹åºï¼ˆpublic classï¼‰
- åŒ…  ï¼ˆclassï¼‰
- é™æ€ï¼ˆé™æ€å†…éƒ¨ç±»ï¼‰
- æˆå‘˜ï¼ˆæˆå‘˜å†…éƒ¨ç±»ï¼‰
- å±€éƒ¨ï¼ˆå±€éƒ¨å†…éƒ¨ç±»ã€åŒ¿åå†…éƒ¨ç±»ï¼‰

```java
é™æ€å†…éƒ¨ç±»ï¼šä¸éœ€è¦å®ä¾‹åŒ–
public class Outer {
    // è¦æœ‰static final
    private static final String a = "static final é™æ€å±æ€§";
    public static class StaticClass {
        public void fun() {
            System.out.println(b);
        }
    }
    public static void main(String[] args) {
        Outer outer = new Outer();
        // è®¿é—®æˆå‘˜å†…éƒ¨ç±»
        outer.StaticClass().fun()
    }
}
```

```java
æˆå‘˜å†…éƒ¨ç±»ï¼šéœ€è¦å®ä¾‹åŒ–
public class Outer {
    private String b = "æˆå‘˜å±æ€§";
    public class MemberClass {
        public void fun() {
            System.out.println(b);
        }
    }
    public static void main(String[] args) {
        Outer outer = new Outer();
        // è®¿é—®æˆå‘˜å†…éƒ¨ç±»
        outer.new MemberClass().fun()
    }
}
```

```java
å±€éƒ¨å†…éƒ¨ç±»ï¼š
public static void fun() {
    String c = "å±€éƒ¨å˜é‡"
    class LocalClass{
        public void run() {
            System.out.println(c);
        }
    }
    new LocalClass().run();
}

public static void fun() {
    String c = "å±€éƒ¨å˜é‡"
    class LocalClass implements Runnable {
        @Override
        public void run() {
            System.out.println(c);
        }
    }
    LocalClass localClass = new LocalClass();
    localClass.run();
}

å®Œå…¨ç­‰ä»·äº â†’
```

```java
åŒ¿åå†…éƒ¨ç±»ï¼š
public static void fun() {
    String c = "å±€éƒ¨å˜é‡"
    Runnable anonymousClass = new Runnable() {
        @Override
        public void run() {
            System.out.println(c);
        }
    }
    anonymousClass.run();
}
å®Œå…¨ç­‰ä»·äº â†’
```

```java
lambda è¡¨è¾¾å¼ï¼š
public static void fun() {
    String c = "å±€éƒ¨å˜é‡"
    Runnable anonymousClass = () -> System.out.println(c);
    anonymousClass.run();
}
```

## && å’Œ & çš„åŒºåˆ«

<https://www.bilibili.com/video/BV1sQ4y1B74C>

`A && B` ä¸ºçŸ­è·¯è¿ç®—ï¼Œåªè¦ A ä¸º falseï¼Œé‚£ä¹ˆ B å°±ä¸è¦ç®—äº†ï¼Œæ‰€ä»¥æ•ˆç‡æ›´é«˜

```java
// https://www.bilibili.com/video/BV1dz411v7Cr

private static int j = 0;
private static Boolean methodB (int k) {
    j += k;
    return true;
}

public static void methodA (int i) {
    boolean b = methodB (i);
    b = i < 10 | methodB (4);
    b = i < 10 || methodB (8);
}

public static void main (String[] args) {
    methodA(0);
    System.out.println(j);
}

æœ€ç»ˆè¾“å‡ºï¼Œ4
```

## i++ å’Œ ++i çš„åŒºåˆ«

j = i++ - 2 æ˜¯å…ˆç®— jèµ‹å€¼ å†ç®— i
j = ++i - 2 æ˜¯å…ˆç®— i å†ç®— jèµ‹å€¼

```java
public static void main(String[] args) {
    int a = 1;
    for (int i = 0; i < 10; ++i) {
        a = a++
    }
}
aæœ€ç»ˆä»ç„¶æ˜¯1
        // ç›¸å½“äº
        int tmp = a++; 
        // tmpå…ˆèµ‹å€¼ä¸º1ï¼Œaå˜æˆ2
        a = tmp; 
        // aå˜æˆ1
```

## å¼•ç”¨ç±»å‹

è‡ªå®šçš„class

æ•°ç»„

## Java ä¸­éƒ½æœ‰å“ªäº›å¼•ç”¨ç±»å‹ï¼Ÿ

<https://www.bilibili.com/video/BV1ST411J7Bk>

å¼ºå¼•ç”¨ï¼šå‘ç”Ÿ gc çš„æ—¶å€™ä¸ä¼šè¢«å›æ”¶ã€‚
è½¯å¼•ç”¨ï¼šæœ‰ç”¨ä½†ä¸æ˜¯å¿…é¡»çš„å¯¹è±¡ï¼Œåœ¨å‘ç”Ÿå†…å­˜æº¢å‡ºä¹‹å‰ä¼šè¢«å›æ”¶ã€‚
å¼±å¼•ç”¨ï¼šæœ‰ç”¨ä½†ä¸æ˜¯å¿…é¡»çš„å¯¹è±¡ï¼Œåœ¨ä¸‹ä¸€æ¬¡GCæ—¶ä¼šè¢«å›æ”¶ã€‚
è™šå¼•ç”¨ï¼ˆå¹½çµå¼•ç”¨/å¹»å½±å¼•ç”¨ï¼‰ï¼šæ— æ³•é€šè¿‡è™šå¼•ç”¨è·å¾—å¯¹è±¡ï¼Œç”¨ PhantomReference ç°è™šå¼•ç”¨ï¼Œè™šå¼•ç”¨çš„ç”¨é€”æ˜¯åœ¨ gc æ—¶è¿”å›ä¸€ä¸ªé€šçŸ¥ã€‚



## çº¿ç¨‹ ã® åˆ›å»ºæ–¹å¼ï¼Ÿ

## å¤šçº¿ç¨‹äº†è§£å—ï¼Ÿï¼ˆå½“æ—¶è„‘å­ä¸€æŠ½ï¼Œæˆ‘ä»¥ä¸ºè¦å†™å¤šçº¿ç¨‹ä»£ç ï¼Œå›ç­”äº†ä¸ç†Ÿæ‚‰ï¼Œä»–å°±æ²¡å¤šé—®äº†ï¼‰

## ThreadLocal æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ä½¿ç”¨åœºæ™¯ï¼Ÿ

<https://www.bilibili.com/video/BV1Yb4y1s7RG>

ThreadLocal ä¸ºæ¯ä¸ª`ä½¿ç”¨è¯¥å˜é‡çš„çº¿ç¨‹`æä¾›`ç‹¬ç«‹çš„å˜é‡å‰¯æœ¬`ï¼Œ

æ‰€ä»¥`æ¯ä¸€ä¸ªçº¿ç¨‹`éƒ½å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„`å‰¯æœ¬`ï¼Œ

è€Œä¸ä¼šå½±å“`å…¶å®ƒçº¿ç¨‹`æ‰€å¯¹åº”çš„`å‰¯æœ¬`ã€‚

ThreadLocal çš„ç»å…¸ä½¿ç”¨åœºæ™¯æ˜¯**æ•°æ®åº“è¿æ¥**å’Œ **session ç®¡ç†**ç­‰ã€‚

## threadlocalåŸç†ï¼Œåº”ç”¨åœºæ™¯

<https://www.bilibili.com/video/BV1iZ4y127wm>

## threadlocal oomæ˜¯ä¸ºä»€ä¹ˆ

## çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼

## è¯·è¯´ä¸€ä¸‹å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ï¼Ÿ

<https://www.bilibili.com/video/BV1c44y1P7Xx>

## javaæ–¹æ³•æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¯¹è±¡ä¼ é€’

<https://www.bilibili.com/video/BV1xL4y1w7jy>

## åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç†è§£?

åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æå‡ºï¼Œæ˜¯ä¸ºäº†è§£å†³â€”â€”å¦‚ä½•æŠŠä¸€ä¸ªã€å¯¹è±¡ã€‘ä»ä¸€ä¸ªã€JVMè¿›ç¨‹ã€‘ä¼ è¾“åˆ°ã€another è¿›ç¨‹ã€‘

- åºåˆ—åŒ–ï¼Œå°±æ˜¯æˆ‘ä»¬ä¸ºäº†æ–¹ä¾¿ã€å¯¹è±¡ã€‘çš„ã€ä¼ è¾“ã€ä¿å­˜ã€‘ï¼ŒæŠŠã€å¯¹è±¡ã€‘è½¬åŒ–ä¸ºã€å…¶ä»–å½¢å¼ã€‘ï¼Œæ¯”å¦‚ã€å­—èŠ‚ã€‘

- ååºåˆ—åŒ–ï¼Œå°±æ˜¯ã€å…¶ä»–å½¢å¼ã€‘è½¬åŒ–ä¸ºã€å¯¹è±¡ã€‘çš„è¿‡ç¨‹

åºåˆ—åŒ–çš„å‰æï¼Œæ˜¯ä¸ºäº†ä¿è¯ã€é€šä¿¡åŒæ–¹ã€‘å¯¹äºå¯¹è±¡çš„ã€å¯è¯†åˆ«æ€§ã€‘ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¼šæŠŠå¯¹è±¡è½¬åŒ–ä¸ºã€é€šç”¨çš„è§£ææ ¼å¼ã€‘ï¼Œæ¯”å¦‚ã€JSONã€Xmlã€‘ï¼Œä»è€Œå®ç°ã€è·¨å¹³å°ã€è·¨è¯­è¨€ã€‘çš„ã€å¯è¯†åˆ«æ€§ã€‘ã€‚

## åºåˆ—åŒ–å¦‚ä½•é€‰æ‹©ï¼Ÿ

å¸‚é¢ä¸Šï¼Œå¼€æºçš„ã€åºåˆ—åŒ–æŠ€æœ¯ã€‘éå¸¸å¤šï¼š

- JDKåºåˆ—åŒ–
- protobuf
- hession
- xml
- JSON
- Kyro

å®é™…åº”ç”¨ä¸­ï¼Œå“ªç§ã€åºåˆ—åŒ–ã€‘æ›´åˆé€‚ï¼Ÿè¦çœ‹ä»¥ä¸‹å‡ ç‚¹ï¼š

1. ã€åºåˆ—åŒ–ã€‘ä»¥åçš„ã€æ•°æ®å¤§å°ã€‘ï¼Œå› ä¸ºã€æ•°æ®å¤§å°ã€‘ä¼šå½±å“ã€ä¼ è¾“æ€§èƒ½ã€‘
2. ã€åºåˆ—åŒ–ã€‘çš„ã€æ€§èƒ½ã€‘ï¼Œã€åºåˆ—åŒ–è€—æ—¶ã€‘è¾ƒé•¿ä¼šå½±å“ã€ä¸šåŠ¡æ€§èƒ½ã€‘
3. æ˜¯å¦æ”¯æŒã€è·¨å¹³å°ã€è·¨è¯­è¨€ã€‘
4. æŠ€æœ¯ã€æˆç†Ÿåº¦ã€‘ï¼Œè¶Šã€æˆç†Ÿã€‘çš„æ–¹æ¡ˆä½¿ç”¨çš„å…¬å¸è¶Šã€å¤šã€‘ï¼Œä¹Ÿå°±è¶Šã€ç¨³å®šã€‘

## Javaå¯¹è±¡çš„åºåˆ—åŒ–æ“ä½œæ–¹å¼

[è®¾è®¡æºäºç”Ÿæ´»ä¸­](https://www.bilibili.com/video/BV1f54y1W7Js)

```java
Serializableä¸å¯ä»¥åˆ é™¤
public class Dog implements Serializable {
    public Dog() {
        System.out.println("Dog()");
    }
}
public static void main(String[] args) throws Exception{
    ObjectOutputStream oos = new ObjectOutputStream(System.out, true);
    oos.writeObject(new Dog());
}
```

## Javaå¦‚ä½•ä½¿ç”¨jsonåºåˆ—åŒ–ï¼Ÿ

[è®¾è®¡æºäºç”Ÿæ´»ä¸­](https://www.bilibili.com/video/BV1iK411u7YF)

1. å¯¼å…¥é˜¿é‡Œå·´å·´çš„`fastjsonåŒ…`ä¸­çš„`JSONå¯¹è±¡`

```java
import com.alibaba.fastjson.JSON;
```

2. ç”¨`JSONå¯¹è±¡`çš„`toJSONString()æ–¹æ³•`å°†å®ƒåºåˆ—åŒ–

```java
String s = JSON.toJSONString(dog);
```

3. éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`DOGå¯¹è±¡`å¦‚æœæ²¡æœ‰`getæ–¹æ³•`ï¼Œåˆ™æ— æ³•å®Œæˆåºåˆ—åŒ–

```java
Serializableå¯ä»¥åˆ é™¤
public class DOG implements Serializable {
    private int price;
    private String dagName;

    å¿…é¡»æœ‰getæ–¹æ³•ï¼š
    public int getPrice() {
        return price;
    }

    public String getDagName() {
        return dogName;
    }

    public Dog() {
        System.out.println("Dog()");
    }
    public Dog(String dagName, int price) {
        this.dagName = dagName;
        this.price = price;
    }
}
```

## ä»€ä¹ˆæ˜¯ Java åºåˆ—åŒ–ï¼Ÿä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åºåˆ—åŒ–ï¼Ÿ

Java åºåˆ—åŒ–æ˜¯ä¸ºäº†ä¿å­˜å„ç§å¯¹è±¡åœ¨å†…å­˜ä¸­çš„çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥æŠŠä¿å­˜çš„å¯¹è±¡çŠ¶æ€å†è¯»å‡ºæ¥ã€‚
ä»¥ä¸‹æƒ…å†µéœ€è¦ä½¿ç”¨ Java åºåˆ—åŒ–ï¼š

æƒ³æŠŠçš„å†…å­˜ä¸­çš„å¯¹è±¡çŠ¶æ€ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­æˆ–è€…æ•°æ®åº“ä¸­æ—¶å€™ï¼›
æƒ³ç”¨å¥—æ¥å­—åœ¨ç½‘ç»œä¸Šä¼ é€å¯¹è±¡çš„æ—¶å€™ï¼›
æƒ³é€šè¿‡RMIï¼ˆè¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼‰ä¼ è¾“å¯¹è±¡çš„æ—¶å€™ã€‚

## ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ï¼Ÿ

â€¢åºåˆ—åŒ–ï¼šåºåˆ—åŒ–æ˜¯å°†å¯¹è±¡è½¬åŒ–ä¸ºå­—èŠ‚æµã€‚

â€¢ååºåˆ—åŒ–ï¼šååºåˆ—åŒ–æ˜¯å°†å­—èŠ‚æµè½¬åŒ–ä¸ºå¯¹è±¡ã€‚

## åºåˆ—åŒ–çš„ç”¨é€”ï¼Ÿ

â€¢åºåˆ—åŒ–å¯ä»¥å°†å¯¹è±¡çš„å­—èŠ‚åºåˆ—æŒä¹…åŒ–-ä¿å­˜åœ¨å†…å­˜ã€æ–‡ä»¶ã€æ•°æ®åº“ä¸­ã€‚

â€¢åœ¨ç½‘ç»œä¸Šä¼ é€å¯¹è±¡çš„å­—èŠ‚åºåˆ—ã€‚

â€¢RMI(è¿œç¨‹æ–¹æ³•è°ƒç”¨)

## åºåˆ—åŒ–å’Œååºåˆ—åŒ–

<https://www.bilibili.com/video/BV1wL4y1q7z5>

â€¢åºåˆ—åŒ–ï¼šjava.io.ObjectOutputStream ç±»çš„ writeObject() æ–¹æ³•å¯ä»¥å®ç°åºåˆ—åŒ–

â€¢ååºåˆ—åŒ–ï¼šjava.io.ObjectInputStream ç±»çš„ readObject() æ–¹æ³•ç”¨äºå®ç°ååºåˆ—åŒ–ã€‚

åºåˆ—åŒ–å°±æ˜¯ä¸€ç§ç”¨æ¥å¤„ç†å¯¹è±¡æµçš„æœºåˆ¶ï¼Œæ‰€è°“å¯¹è±¡æµä¹Ÿå°±æ˜¯å°†å¯¹è±¡çš„å†…å®¹è¿›è¡ŒæµåŒ–ã€‚å¯ä»¥å¯¹æµåŒ–åçš„å¯¹è±¡è¿›è¡Œè¯»å†™æ“ä½œï¼Œä¹Ÿå¯å°†æµåŒ–åçš„å¯¹è±¡ä¼ è¾“äºç½‘ç»œä¹‹é—´ã€‚åºåˆ—åŒ–æ˜¯ä¸ºäº†è§£å†³åœ¨å¯¹å¯¹è±¡æµè¿›è¡Œè¯»å†™æ“ä½œæ—¶æ‰€å¼•å‘çš„é—®é¢˜ã€‚åºåˆ—åŒ–çš„å®ç°ï¼šå°†éœ€è¦è¢«åºåˆ—åŒ–çš„ç±»å®ç°Serializableæ¥å£ï¼Œè¯¥æ¥å£æ²¡æœ‰éœ€è¦å®ç°çš„æ–¹æ³•ï¼Œimplements Serializableåªæ˜¯ä¸ºäº†æ ‡æ³¨è¯¥å¯¹è±¡æ˜¯å¯è¢«åºåˆ—åŒ–çš„ï¼Œç„¶åä½¿ç”¨ä¸€ä¸ªè¾“å‡ºæµ(å¦‚ï¼šFileOutputStream)æ¥æ„é€ ä¸€ä¸ªObjectOutputStream(å¯¹è±¡æµ)å¯¹è±¡ï¼Œæ¥ç€ï¼Œä½¿ç”¨ObjectOutputStreamå¯¹è±¡çš„writeObject(Object obj)æ–¹æ³•å°±å¯ä»¥å°†å‚æ•°ä¸ºobjçš„å¯¹è±¡å†™å‡º(å³ä¿å­˜å…¶çŠ¶æ€)ï¼Œè¦æ¢å¤çš„è¯åˆ™ç”¨è¾“å…¥æµã€‚

## Javaé¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§

<https://www.bilibili.com/video/BV1rf4y1E7u9>

## é¢å‘å¯¹è±¡ ã® ã€ä¸‰å¤§ç‰¹æ€§ã€‘

å°è£…ã€ç»§æ‰¿ã€å¤šæ€

## è¯´ä¸‹å¯¹è±¡å®Œæ•´åˆ›å»ºæµç¨‹

<https://www.bilibili.com/video/BV1J3411G7wA>

## new String("abc")åˆ°åº•åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡ï¼Ÿ

<https://www.bilibili.com/video/BV1MS4y1b75Q>

## è¿æ¥æ± 

<https://www.bilibili.com/video/BV1yR4y1K7Z7>

## javaä¸­ç±»å’Œå¯¹è±¡ ã® å…³ç³»

| ç±»  | å¯¹è±¡  |
|---|---|
| ä¸€ç»„ã€ç›¸åŒorç›¸ä¼¼ã€‘çš„ã€å±æ€§ã€methodã€‘çš„äº‹ç‰©çš„ã€æŠ½è±¡æè¿°ã€‘  | è¿™ç±»äº‹ç‰©çš„ä¸€ä¸ªã€å…·ä½“å®ä¾‹ã€‘  |
| ã€è§„å®šã€‘äº†ä¸€ç§ã€æ•°æ®ç±»å‹ã€‘çš„ã€å±æ€§ã€methodã€‘ï¼Œæ˜¯åˆ›å»ºå¯¹è±¡çš„ã€æ¨¡æ¿ã€‘  | æ ¹æ®ã€ç±»çš„è§„å®šã€‘ï¼Œåœ¨ã€å†…å­˜ã€‘ä¸­ã€å¼€è¾Ÿã€‘äº†ä¸€å—ã€å…·ä½“ç©ºé—´ã€‘ï¼Œè¿™å—ç©ºé—´çš„ã€å±æ€§æ•°æ®ã€methodã€‘å’Œã€ç±»çš„è§„å®šã€‘æ˜¯ä¸€è‡´çš„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å†…å­˜ä¸­å¼€è¾Ÿå¤šä¸ªç›¸åŒç»“æ„çš„ã€ç©ºé—´ã€‘  |

## ä»€ä¹ˆæ˜¯Javaè™šæ‹Ÿæœºä¸ºä»€ä¹ˆè¦ä½¿ç”¨ï¼Ÿ

<https://www.bilibili.com/video/BV1Fg411278C>

## Jvmåƒåœ¾å›æ”¶å™¨:serial

## åƒåœ¾å›æ”¶

<https://www.bilibili.com/video/BV1aW41167rS>

<https://www.bilibili.com/video/BV1xK4y197SH>

[ä»€ä¹ˆæ · ã® å¯¹è±¡ä¼šè¢«è€å¹´ä»£å›æ”¶](https://www.bilibili.com/video/BV13K4y1G7Bs)



## Javaå¦‚ä½•è·å–å­—èŠ‚ç å¯¹è±¡

```java
public static void main(String[] args) {
    // æ–¹æ¡ˆä¸€ï¼š
    Class clazzDog = Dog.class;
    // æ–¹æ¡ˆäºŒï¼š
    Dog dog = new Dog();
    Class clazzDog2 = Dog.getClass();
    System.out.println(clazzDog == clazzDog2);

    è¿”å›trueï¼Œè¯´æ˜ä¸¤è€…æŒ‡å‘åŒä¸€ä¸ªåœ°å€
}
```










## æˆ‘ä»¬è‡ªå·±å®šä¹‰ ã® java.lang.Stringç±»æ˜¯å¦å¯ä»¥è¢«ç±»åŠ è½½å™¨åŠ è½½

<https://www.bilibili.com/video/BV1MF411e7zY>

## Stringç±»æ˜¯å¦å¯ä»¥è¢«ç»§æ‰¿

<https://www.bilibili.com/video/BV1ev411g7Xk>







## åˆ†å¸ƒå¼é”çš„ç†è§£å’Œå®ç°ï¼Ÿ

<https://www.bilibili.com/video/BV1nS4y1K7n4>

<https://www.bilibili.com/video/BV1GF411373W>



## JVMä¸­ï¼Œå“ªäº›æ˜¯å…±äº«åŒºï¼Œå“ªäº›å¯ä»¥ä½œä¸ºgc root

<https://www.bilibili.com/video/BV1Uq4y1e7Kq>



## é¡¹ç›®ä¸­å¦‚ä½•è§„åˆ’å¸¸é‡ï¼Ÿ

é€šå¸¸æ”¾åˆ° `Constantsç±»` ä¸­

```java
public final class Constants {
    public static final String ApplicationContextXml = "xxxx"
    public static final String ApplicationWebXml = "xxxx"
    public static final String WebXml = "xxxx"
    ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
}
```

## ã€passğŸ’¦ã€‘Java ä¸­æœ‰å¤šå°‘ç§å¼•ç”¨ç±»å‹ï¼Ÿå®ƒä»¬ ã® éƒ½æœ‰ä»€ä¹ˆä½¿ç”¨åœºæ™¯ï¼Ÿ

<https://www.bilibili.com/video/BV1e94y1D7ug>



## Java å†…å­˜æ¨¡å‹å®šä¹‰äº†å…«ç§æ“ä½œæ¥å®ç°

Java å†…å­˜æ¨¡å‹å®šä¹‰äº†å…«ç§æ“ä½œæ¥å®ç°

## CompletableFuture

<https://www.bilibili.com/video/BV1hA4y1d7gU>









## å†…å­˜æº¢å‡º

<https://www.bilibili.com/video/BV1gW411r7By>

## Objectsç±»ä¸­æœ‰å“ªäº›æ–¹æ³•ï¼Ÿ

## ä¸€ä¸ªç©ºObjectå¯¹è±¡çš„å å¤šå¤§ç©ºé—´

<https://www.bilibili.com/video/BV1SG411h7ju>

## static

<https://www.bilibili.com/video/BV1nW41167o1>

<https://www.bilibili.com/video/BV1zL411s7h9>

é™æ€ä¿®é¥°ç¬¦ï¼Œä»£è¡¨è¿™ä¸ªç±»`å›ºæœ‰çš„`ï¼Œåœ¨è¿™ä¸ªç±»é‡Œé¢å…±äº«ï¼Œä¸éœ€è¦`newä¸€ä¸ªå®ä¾‹`

`non-static method éé™æ€æ–¹æ³•` = `instance method å®ä¾‹æ–¹æ³•` = newä¸€ä¸ªå®ä¾‹

## public

å¦‚æœaåŒ…ä¸‹çš„`Aç±»`æ˜¯`public`çš„ï¼Œå®ƒçš„å­—æ®µå’Œæ–¹æ³•éƒ½æ˜¯privateçš„ã€‚

â†’ åœ¨`båŒ…`ä¸‹çš„`Bç±»`å¯ä»¥åˆ›å»º`Aç±»`çš„å¯¹è±¡ï¼Œä½†æ˜¯æ— æ³•è®¿é—®`Aç±»å¯¹è±¡çš„å­—æ®µå’Œæ–¹æ³•`ã€‚

å¦‚æœaåŒ…ä¸‹çš„`Aç±»``æ²¡æœ‰ä¿®é¥°ç¬¦`ï¼Œå®ƒçš„å­—æ®µå’Œæ–¹æ³•éƒ½æ˜¯privateçš„ã€‚

â†’ åœ¨`aåŒ…`ä¸‹çš„Bç±»å¯ä»¥åˆ›å»º`Aç±»`çš„å¯¹è±¡ï¼Œä½†æ— æ³•è®¿é—®Aç±»å¯¹è±¡çš„å­—æ®µå’Œæ–¹æ³•ã€‚

â†’ åœ¨`båŒ…`ä¸‹çš„Bç±»æ— æ³•åˆ›å»ºAç±»çš„å¯¹è±¡ã€‚

## è®¿é—®ä¿®é¥°ç¬¦

<https://www.bilibili.com/video/BV1bf4y1c7Pu>

## final å€¼ æ–¹æ³• ç±»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œå®¹å™¨è¢«finalä¿®é¥°ä¼šæ€æ ·

[2åˆ†é’Ÿè®°ä½final ã® ä½¿ç”¨](https://www.bilibili.com/video/BV19A4y1o7ET)

# java

[ç»å…¸é¸¡ç¿…](https://space.bilibili.com/386498238) è¿™äº›è§†é¢‘æ¯”è¾ƒé«˜çº§ï¼Œæ²¡æœ‰å·¥ä½œç»éªŒï¼Œçœ‹ä¸å¤ªæ‡‚

[è®¾è®¡æºäºç”Ÿæ´»ä¸­](https://space.bilibili.com/484405397) ä»£ç é¢˜

## å¼ºå¹³è¡¡â¼†å‰æ ‘å’Œå¼±å¹³è¡¡â¼†å‰æ ‘æœ‰ä»€ä¹ˆåŒºåˆ«

<https://www.bilibili.com/video/BV1oF411M78u>

## Mavenä¸­Packageå’ŒInstallçš„åŒºåˆ«

<https://www.bilibili.com/video/BV1PT4y1a7A1>

## K8S

<https://www.bilibili.com/video/BV1vP4y1J7EQ>

## ç³»ç»Ÿä¿æŠ¤æœºåˆ¶

<https://www.bilibili.com/video/BV1UY411b7W8>

## ESçš„ç†è§£

<https://www.bilibili.com/video/BV16h41147jy>

## Docker

<https://www.bilibili.com/video/BV1xR4y1W7Nh>

## ArrayBlockQueue

<https://www.bilibili.com/video/BV17A4y197em>

## è¯´ä¸€ä¸‹ä½ ç†Ÿæ‚‰çš„è®¾è®¡æ¨¡å¼ï¼Ÿ

åˆ›ã€ç»“ã€è¡Œ

æŒ‰ç…§æ¨¡å¼çš„ã€åº”ç”¨ç›®æ ‡ã€‘åˆ†ç±»ï¼š

1. åˆ›å»ºå‹ï¼šå¯¹ã€å¯¹è±¡åˆ›å»ºè¿‡ç¨‹ã€‘çš„å„ç§é—®é¢˜ and è§£å†³æ–¹æ¡ˆ ã® ä¸€ä¸ªæ€»ç»“ã€‚
2. ç»“æ„å‹ï¼šå¯¹ã€è½¯ä»¶è®¾è®¡ç»“æ„ã€‘çš„æ€»ç»“ã€‚é‡ç‚¹å…³æ³¨ã€ç±»ã€å¯¹è±¡ç»§æ‰¿ã€ç»„åˆæ–¹å¼ã€‘çš„å®è·µç»éªŒçš„æ€»ç»“
3. è¡Œä¸ºå‹ï¼šã€ä»ç±»ã€‘orã€å¯¹è±¡ã€‘ä¹‹é—´çš„ã€äº¤äº’ã€‘ï¼Œã€èŒè´£åˆ’åˆ†ã€‘ç­‰è§’åº¦ï¼Œæ€»ç»“çš„æ¨¡å¼

## åœ¨å­¦ä¹ ã€æ¡†æ¶ã€‘æˆ–ã€ä¸­é—´ä»¶ã€‘åº•å±‚æºç é‡åˆ°çš„è®¾è®¡æ¨¡å¼ï¼Ÿ

[ã€23ç§è®¾è®¡æ¨¡å¼å…¨è§£æã€‘ç»ˆäºæœ‰äººç”¨ä¸€ä¸ªé¡¹ç›®å°†23ä¸­è®¾è®¡æ¨¡å¼å…¨éƒ¨è®²æ¸…æ¥šäº†](https://www.bilibili.com/video/BV19g411N7yx)

1. åˆ›å»ºå‹ï¼š
      1. å·¥å‚æ¨¡å¼
      2. å•ä¾‹æ¨¡å¼
      3. å»ºé€ è€…æ¨¡å¼
      4. åŸå‹æ¨¡å¼
2. ç»“æ„å‹ï¼š
      1. é€‚é…å™¨æ¨¡å¼
      2. æ¡¥æ¥æ¨¡å¼
      3. è¿‡æ»¤å™¨æ¨¡å¼
      4. ç»„åˆæ¨¡å¼
      5. è£…é¥°å™¨æ¨¡å¼
      6. å¤–è§‚æ¨¡å¼
      7. äº«å…ƒæ¨¡å¼
      8. ä»£ç†æ¨¡å¼
3. è¡Œä¸ºå‹ï¼š
      1. è´£ä»»é“¾æ¨¡å¼
      2. å‘½ä»¤æ¨¡å¼
      3. è§£é‡Šå™¨æ¨¡å¼
      4. è¿­ä»£å™¨æ¨¡å¼
      5. ä¸­ä»‹è€…æ¨¡å¼
      6. å¤‡å¿˜å½•æ¨¡å¼
      7. è§‚å¯Ÿè€…æ¨¡å¼
      8. çŠ¶æ€æ¨¡å¼
      9. ç©ºå¯¹è±¡æ¨¡å¼
      10. ç­–ç•¥æ¨¡å¼
      11. æ¨¡æ¿æ¨¡å¼
      12. è®¿é—®è€…æ¨¡å¼

<https://www.bilibili.com/video/BV1M44y137oe>

<https://www.bilibili.com/video/BV1UF411u7pm>

<https://www.bilibili.com/video/BV1zg411Z7AH>

1. `å•ä¾‹æ¨¡å¼`ï¼šä¿è¯è¢«åˆ›å»ºä¸€æ¬¡ï¼ŒèŠ‚çœç³»ç»Ÿå¼€é”€ã€‚
2. `å·¥å‚æ¨¡å¼`ï¼ˆç®€å•å·¥å‚ã€æŠ½è±¡å·¥å‚ï¼‰ï¼šè§£è€¦ä»£ç ã€‚
3. `è§‚å¯Ÿè€…æ¨¡å¼`ï¼šå®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šçš„ä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜æ—¶ï¼Œå®ƒçš„æ‰€æœ‰çš„ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°ã€‚
4. `å¤–è§‚æ¨¡å¼`ï¼šæä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£ï¼Œç”¨æ¥è®¿é—®å­ç³»ç»Ÿä¸­çš„ä¸€ç¾¤æ¥å£ï¼Œå¤–è§‚å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚çš„æ¥å£ï¼Œè®©å­ç³»ç»Ÿæ›´å®¹æ˜“ä½¿ç”¨ã€‚
5. `æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼`ï¼šå®šä¹‰äº†ä¸€ä¸ªç®—æ³•çš„éª¨æ¶ï¼Œè€Œå°†ä¸€äº›æ­¥éª¤å»¶è¿Ÿåˆ°`å­ç±»`ä¸­ï¼Œæ¨¡ç‰ˆæ–¹æ³•ä½¿å¾—`å­ç±»`å¯ä»¥åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé‡æ–°å®šä¹‰ç®—æ³•çš„æ­¥éª¤ã€‚
6. `çŠ¶æ€æ¨¡å¼`ï¼šå…è®¸å¯¹è±¡åœ¨å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜å®ƒçš„è¡Œä¸ºï¼Œå¯¹è±¡çœ‹èµ·æ¥å¥½åƒä¿®æ”¹äº†å®ƒçš„ç±»ã€‚

## æ—¶é—´è½®

<https://www.bilibili.com/video/BV1uv4y1u7Xm>

## å¯¹ç½‘ç»œå››å…ƒç»„çš„ç†è§£

<https://www.bilibili.com/video/BV1GT4y1i7T2>

## ä»€ä¹ˆæ˜¯æœåŠ¡ç½‘æ ¼ï¼Ÿ

<https://www.bilibili.com/video/BV1nS4y1N7Ax>

## ä½ çš„é¡¹ç›®ä¸­æœ‰ä»€ä¹ˆäº®ç‚¹ï¼Ÿ

<https://www.bilibili.com/video/BV1NZ4y1e7ux>

## BigDecimal

ç”¨äºï¼šé‡‘èåœºæ™¯ï¼Œé˜²æ­¢ç²¾åº¦ä¸¢å¤±

å‚è€ƒï¼š
<https://www.bilibili.com/video/BV1RS4y1P7f5>

## main æ–¹æ³•å¯ä»¥è¢«å…¶å®ƒæ–¹æ³•è°ƒç”¨å—

of courseï¼

```java
class Main {
    public static void main(String[] args) {
        A.main(args);
        B.main(args);
    }
}

class A {
    public static void main(String[] args) {
        System.out.println("A");
    }
}

class B {
    public static void main(String[] args) {
        System.out.println("B");
    }
}

```

## final å…³é”®å­—

```java
final æŒ‡å‘ã€å¼•ç”¨å¯¹è±¡ã€‘ï¼š

final User user = new User(); ä¸èƒ½å˜æ›´å¯¹è±¡æŒ‡å‘çš„å¯¹è±¡
âŒ user = new User();         ä¸èƒ½å˜æ›´å¯¹è±¡æŒ‡å‘çš„å¯¹è±¡
â­• user.id = 1;               å¯¹è±¡çš„ã€æˆå‘˜å±æ€§ã€‘æ˜¯å¯ä»¥ä¿®æ”¹çš„
```

```java
final æŒ‡å‘ã€åŸºæœ¬ç±»å‹ã€‘ï¼š

final int num = 0; 
âŒ num = 1;
```

```java
final æŒ‡å‘ã€ç±»ã€‘ï¼š

final class Father {}
âŒ class Son extends Father {}
```

```java
final æŒ‡å‘ã€æ–¹æ³•ã€‘,è¯¥ã€æ–¹æ³•ã€‘ä¸èƒ½è¢«å­ç±»overrideï¼š

class Father {
    public final void foo() {
        // ...
    }
}
class Son extends Father {
    âŒ @Override
    âŒ public final void foo() {
        // ...
    âŒ }
}
```

## java 8 æ”¹è¿›äº†ä¹‹å‰çš„ DATE çš„çƒ‚è®¾è®¡

```java
import java.time.LocalDate;
import java.time.LocalDateTime;
import java.time.LocalTime;
import java.time.ZonedDateTime;
```

## java çš„ å­—ç¬¦ä¸² æ‹¼æ¥

```java
String[] names = {"A", "B", "C", "D"};
StringJoiner sj = new StringJoiner(",", "[", "]");
for (String name : names) {
    sj.add(name);
}
System.out.println(sj); // è¾“å‡ºï¼š[A,B,C,D]
```

## æ•°ç»„æ˜¯ä¸æ˜¯å¯¹è±¡ï¼Ÿ

yesï¼

```java
å¼•ç”¨åï¼Œå˜é‡ä¹Ÿä¼šåŒæ­¥æ”¹å˜ã€‚
int[] arr1 = {1, 2, 3, 4, 5};
int[] arr2 = arr1;
arr2[0] = 5;
System.out.println(arr1[0]); 
// è¾“å‡º5
System.out.println(arr1 instanceof Object); 
// è¾“å‡ºtrue
```

## Javaåˆ°åº•æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ

Java åªæœ‰`å€¼ä¼ é€’`

```java
public static void main(String[] args) {
    Person p =  new Person("å¼ ä¸‰");
    fun(p);
    System.out.println("å®å‚ï¼š" + p);
}

public static void fun(Person p) {
    p =  new Person("æå››");
    System.out.println("å½¢å‚ï¼š" + p);
}

æ‰“å°ç»“æœï¼š
å½¢å‚ï¼šPerson{name='æå››'}
å®å‚ï¼šPerson{name='å¼ ä¸‰'}
```

```java

public static void main(String[] args) {
    Person p =  new Person("å¼ ä¸‰");
    fun(p);
    System.out.println("å®å‚ï¼š" + p);
}

public static void fun(Person p) {
    p.name("æå››");
    System.out.println("å½¢å‚ï¼š" + p);
}

æ‰“å°ç»“æœï¼š
å½¢å‚ï¼šPerson{name='æå››'}
å®å‚ï¼šPerson{name='æå››'}
```

## string æ˜¯ä¸å¯å˜çš„

```java
// Person æ˜¯å¯å˜çš„
Person P = new Person(18);
p.setAge(20);

// String æ˜¯ä¸å¯å˜çš„, æ‰€ä»¥æ˜¯ã€çº¿ç¨‹å®‰å…¨çš„ã€‘
String s = "RudeCrab";
```

```java
String s = "ä¸€é”®ä¸‰è¿";
HashSet<String> set = new HashSet<>();
set.add(s);

å‡è®¾å¯ä»¥ä¿®æ”¹ï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œsetä¸­çš„â€œä¸€é”®ä¸‰è¿â€å°±æ‰¾ä¸åˆ°äº†
s.value = "ç‚¹èµä¹Ÿè¡Œ";
```

## instanceof

```java
public class Main {
    public static void main(String[] args) {
        int[] array = {2,5,-2};

        if (array instanceof int[]){
            System.out.println("è¿™ä¸ªå¯¹è±¡æ˜¯ int[] ");
        } else {
            System.out.println("è¿™ä¸ªå¯¹è±¡ä¸æ˜¯ int[] ");
        }
    }
}
```

## æ•°ç»„ æ’åº

```java
import java.util.Arrays;
public class Main {
    public static void main(String[] args) {
        int[] array = {2,5,-2};
        Arrays.sort(array);

        for (int i = 0; i < array.length; i++){
            System.out.print(array[i] + "");
        }
    }
}
```

## æ•°ç»„ åˆ é™¤

```java
import java.util.Arrays;
public class Main {
    public static void main(String[] args) {
        int[] array = {2,5,-2};
        int[] newArray = new int[array.length - 1];
        int deleteIdx = 2 

        for (int i = 0; i < newArray.length; i++) {
            if (i < deleteIdx) {
                newArray[i] = array[i];
            } else {
                newArray[i] = array[i + 1];
            }
        }

        System.out.println(array);
        System.out.println(newArray);
    }
}
```

## é¡¹ç›®ä¸­å¦‚ä½•è§„åˆ’å¸¸é‡ï¼Ÿ

<https://www.bilibili.com/video/BV1ua4y1a7CT>

## å­—ç¬¦ä¸² å¸¸é‡æ± 

<https://www.bilibili.com/video/BV1VW411y72d>

ä½¿å¾—`å­—ç¬¦ä¸²èµ„æº`èƒ½å¤Ÿå¤ç”¨ï¼Œå‡å°‘èµ„æºçš„æµªè´¹

```java
String s1 = "abc";
String s2 = "abc";
System.out.println(s1 == s2);//âœŒtrue
```

```java
public static final Person PERSON = new Person(18);

public static void main(String[] args) {
    Person p1 = PERSON;
    Person p2 = PERSON;
    System.out.println(p1 == p2);
}
```

## å­—ç¬¦ä¸² åŠˆå¼€

```java
public class Main {
    public static void main(string[] args) {
        String str = "www-java-com";
        String[] tmp = str.split("-");
        for (int i = 0; i < tmp.length; i++) {
            System.out.println(tmp[i])
        }
    }
}
```

## å­—ç¬¦ä¸² åˆ é™¤

```java
public class Main {
    public static void main(string[] args) {
        String str = "www-java-com";
        System.out.println(str.substring(0,3) + " " + str.substring(4))

    }
}
```

## å­—ç¬¦ä¸² æŸ¥æ‰¾

```java
public class Main {
    public static void main(string[] args) {
        String str = "www-java-com";
        int idx = str.indexOf("j")
        if (idx == -1){
            System.out.println("No Find")
        } else {
            System.out.println("Index: " + idx)
        }
    }
}
```

## private å°è£…

`å°è£…`çš„å¥½å¤„ï¼š

- å®ƒå¯ä»¥å¯¹`æˆå‘˜`è¿›è¡Œ æ›´ç²¾å‡†çš„æ§åˆ¶
- è®© `å¯¹è±¡` & `è°ƒç”¨è€…` è§£è€¦

```java
public class User {
    private Long id;
    public Long getID() {
        return id;
    }
    public void setID(Long id) {
        this.id = id;
    }


    private String phone;
    public String getPhone() {
        if (phone == null){
            return ""
        }
        return phone.substring(0,3) + "****" + phone.substring(7,11);
    }
    public void setPhone(String phone) {
        if (phone == null || phone.length() != 11){
            System.err.println("æ‰‹æœºå·å¿…é¡»ä¸º11ä½")
        } else {
            this.phone = phone;
        }
    }
}

ä¸»ç¨‹åºä¸­ï¼š
User user = new User();
user.setPhone("123");         // æ‰“å°é”™è¯¯æç¤º
user.setPhone("13700001234"); // è®¾ç½®æˆåŠŸ
System.out.println(user.getPhone()); // æ‰“å° 137****1234
```

## enum å’Œ switch è¯­å¥ä½¿ç”¨

enumæšä¸¾çš„ä¼˜åŠ¿ï¼š

- èƒ½å¤Ÿåœ¨ `ç¼–è¯‘é˜¶æ®µ`ï¼Œå°±æ£€æŸ¥ `æ¯ä¸ªå€¼çš„åˆç†æ€§`ï¼Œå¹¶ä¸”
- å¯ä»¥ç”¨äº `switchåˆ¤æ–­`

```java
ä¸¾ä¸ªæ¤°å­ğŸ¥¥ï¼š

public enum Season {
    SPRING,
    SUMMER,
    AUTUMN,
    WINTER
}

public static void fun(Season season){
    switch (season) {
        case SPRING:
            break;
        case SUMMER: 
            break;
        case AUTUMN: 
            break;
        case WINTER: 
            break;
        default:
            break;
    }
}

public static void main(String[] args){
    fun(Season.SPRING);
    fun(Season.WINTER);
    fun(1); // ç¼–è¯‘å‡ºé”™
    fun("SUMMER"); // ç¼–è¯‘å‡ºé”™
}
```

```java
public enum Season {
    SPRING,
    SUMMER,
    AUTUMN,
    WINTER
}

-- åç¼–è¯‘åä»£ç å¤§ä½“å¦‚ä¸‹ï¼š

public final class Season extends Enum {
    public static final Season SPRING = new Season();
    public static final Season SUMMER = new Season();
    public static final Season AUTUMN = new Season();
    public static final Season WINTER = new Season();
    private Season() {} // é˜²æ­¢å¤–éƒ¨å®ä¾‹åŒ–
}
```

## void

è¡¨ç¤º`method`ä¸è¿”å›ä»»ä½•å€¼ã€‚

## non-void çš„ method

```java
public static void main(String[] args) {
    double c1 = 6, c2 = 18, c3 = 32;
    double res1 = convert(c1);
    double res2 = convert(c2);
    double res3 = convert(c3);

    System.out.println(res1);
    System.out.println(res2);
    System.out.println(res3);
}

static double convert(double c){
    double res;
    res = 1.8 * c + 32;
    return res;
}
```

## Classä¸­çš„method - classåç§°.methodå

```java
å®šä¹‰ä¸€ä¸ª classï¼š
public class Keng{
    static double convert(double c){
        return 1.8 * c + 32;
    }
    static void printTwo(){
        System.out.println(2);
    }
}

Main éƒ¨åˆ†ï¼š
public class Main{
    public static void main(string args[]){
        double f = Keng.convert(40);
        System.out.println(f);
        Keng.printTwo();

        æœ‰ä¸¤ç§å†™æ³•ï¼š
        printThree();
        Main.printThree();
    }

    static void printThree(){
        System.out.println(3);
    }

}
```

```java
public class Main{
    public static void main(string args[]){
        System.out.println(getTwo());
        int two = getTwo();
        System.out.println(two);

        int attack1 = getAttack(50, 10, 1);
        int attack20 = getAttack(50, 10, 20);
        System.out.println(attack1);
        System.out.println(attack20);
    }
    static int getAttack(int level, int attackGrowth, int initialAttack){
        return level * attackGrowth + initialAttack;
    }
    static int getTwo(){
        return 2;
    }
}
```

## ä¸ºä»€ä¹ˆJavaä¸­çš„mainæ–¹æ³•å¿…é¡»æ˜¯ public static voidï¼Ÿ

å¿…é¡»é€šè¿‡`mainæ–¹æ³•`æ‰èƒ½å¯åŠ¨javaè™šæ‹Ÿæœº

`mainæ–¹æ³•`æ²¡æœ‰è¢«`å®ä¾‹åŒ–`è¿‡ï¼Œè¿™æ—¶å€™å¿…é¡»ä½¿ç”¨`é™æ€æ–¹æ³•`ï¼Œæ‰èƒ½è¢«`è°ƒç”¨`

## constructor æ˜¯ä¸€ç§ç‰¹æ®Šçš„ method, staticå˜é‡æ˜¯classå†…éƒ¨çš„å…±äº«å˜é‡

constructor æ²¡æœ‰è¿”å›

```java
class ListNode {
    int val;
    ListNode next;
    static int cnt; ä¸å±äºinstanceï¼Œå±äºæ•´ä¸ªclasså…±äº«
    ListNode(int x) {
        val = x;
        next = null;
        cnt ++
    }
}

public class Solution {
    public boolean hasCycle(ListNode head) {

        ListNode node1 = new ListNode(0)
        ListNode node2 = new ListNode(0)
        
    }
}
```

```py
class ListNode:
    def __init__(self, x):
        self.val = x
        self.next = None

class Solution:
    def hasCycle(self, head: Optional[ListNode]) -> bool:
```

## å…ˆè°ƒç”¨ã€ç»§æ‰¿ã®æ„é€ å™¨ã€‘ï¼Œå†è°ƒç”¨ã€å®ä¾‹ã®æ„é€ å™¨ã€‘

çœ‹è¿™ä¸ªè§†é¢‘

[è®¾è®¡æºäºç”Ÿæ´»](https://www.bilibili.com/video/BV1zv411B7g2)

```java
public class Demo {
    class Super {
        int flag = 1;
        Super() {
            test();
        }
        void test() {
            System.out.println("Super.test() flag = " + flag);
        }
    }
    class Sub extends Super {
        Sub(int i) {
            flag = i;
            System.out.println("Sub.sub() flag = " + flag);
        }
        void test() {
            System.out.println("Sub.test() flag = " + flag);
        }
    }

    public static void main(String[] args) {
        new Demo().new Sub(5);
    }

}

è¾“å‡º

Sub.test() flag = 1
Sub.sub() flag = 5
```

## `instanceæ–¹æ³•` ä¸­ å¯ä»¥ç›´æ¥è°ƒç”¨ `instanceå˜é‡`

```java
public class Dish {
    instanceå˜é‡ï¼š
    double salt;

    constructorï¼š
    Dish(double inputSalt){
        salt = inputSalt;
    }

    instanceæ–¹æ³•ï¼š
    void taste(double inputTolerance) {
        if (salt > inputTolerance) {
            System.out.println("å¤ªå’¸äº†")
        } else if (salt < inputTolerance) {
            System.out.println("å¤ªæ·¡äº†")
        } else {
            System.out.println("å¤ªå¥½åƒäº†")
        }
    }
}

public class Main {
    public static void main(String[] args) {
        Dish d1 = new Dish(0.1);
        Dish d2 = new Dish(0.4);
        Dish d3 = new Dish(0.8);
        d3.taste(0.5);
    }

}
```

## å­—ç¬¦ç±»å‹è½¬æ¢ - å°å†™è½¬å¤§å†™

```java
public class Main {
    public static void main(string arg[]){
        char c = 'a'
        int encoding = (int) c;
        char capital = (char) (encoding - 32);
        System. out. println(capital)
    }
}

public class Main {
    public static void main(String[] args) {
        char[] charArray = {'a','b','c','e'};
        for (int i = 0; i < charArray.length; i++) {
            int encoding = (int) charArray[i];
            if (encoding >= 97 && encoding < 110) {
                encoding = encoding + 13;
            } else if (encoding >= 110 && encoding < 122) {
                encoding = encoding - 13;
            }
            char secret = (char) encoding;
            charArray[i] = secret;
        }
        System.out.println(charArray);
    }
}
```

## javaçš„ç‰¹ç‚¹

- javaè¦æ±‚`æ–‡ä»¶å`å’Œ`å…¬å…±ç±»å`å¿…é¡»è¦æ±‚ä¸€è‡´

```java
æ¯”å¦‚ï¼š`æ–‡ä»¶å` test.java -> `å…¬å…±ç±»å` public class test{}
```

- javaçš„å‚æ•°å£°æ˜æ”¾åœ¨å‰é¢

```java
public String test(String param){
}
```

- åœ¨ä¼ é€’å¤šå‚æ•°çš„æ—¶å€™ï¼Œjavaç”¨...

```java
public test(String args...){
  
}
```

## Netty

<https://www.bilibili.com/video/BV1GN4y1g7Wi>

<https://www.bilibili.com/video/BV1xq4y1g73f>

## SPI

<https://www.bilibili.com/video/BV1MB4y1X7Dy>

## seata

<https://www.bilibili.com/video/BV18Y411g7kP>

## Kafkaå¦‚ä½•ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼Ÿ

<https://www.bilibili.com/video/BV1W34y1x7tY>

## Kafka æ€ä¹ˆé¿å…é‡å¤æ¶ˆè´¹ï¼Ÿ

<https://www.bilibili.com/video/BV1XS4y1B7Mk>

## kafkaçš„é›¶æ‹·è´åŸç†

<https://www.bilibili.com/video/BV1tu411B7p9>

## æ¥å£çš„å¹‚ç­‰æ€§ï¼Ÿä»€ä¹ˆæ˜¯å¹‚ç­‰ã€å¦‚ä½•è§£å†³å¹‚ç­‰æ€§é—®é¢˜ï¼Ÿ

<https://www.bilibili.com/video/BV14a411a7SH>

## zk ã® watchæœºåˆ¶å®ç°åŸç†

<https://www.bilibili.com/video/BV1sY4y1Y71P>

<https://www.bilibili.com/video/BV1D3411w7wK>

## ç®€è¿°zk ã® å‘½åæœåŠ¡ã€é…ç½®ç®¡ç†ã€é›†ç¾¤ç®¡ç†

<https://www.bilibili.com/video/BV1r3411F7id>

## zookeeperçš„åº”ç”¨åœºæ™¯

<https://www.bilibili.com/video/BV1Uq4y137Vh>

1. åˆ†å¸ƒå¼é”
2. masteré€‰ä¸¾
3. é›†ç¾¤ç®¡ç†

## é˜»å¡é˜Ÿåˆ—è¢«å¼‚æ­¥æ¶ˆè´¹æ€ä¹ˆä¿æŒé¡ºåºå—ï¼Ÿ

<https://www.bilibili.com/video/BV1PN4y1L7cd>

## ç”Ÿäº§ç¯å¢ƒæœåŠ¡å™¨å˜æ…¢ï¼Œå¦‚ä½•è¯Šæ–­å¤„ç†ï¼Ÿ

<https://www.bilibili.com/video/BV1Xt4y1t7Vw>

## è´Ÿè½½å‡è¡¡çš„èƒŒæ™¯ï¼Ÿ

åœ¨æ—©æœŸï¼Œéƒ½æ˜¯ã€å•ä½“æ¶æ„ã€‘ï¼Œã€å•ä½“æ¶æ„ã€‘å®¹æ˜“å‡ºç°ã€å•ç‚¹æ•…éšœã€‘çš„é—®é¢˜ã€‚ä¹‹åï¼Œå¼•å…¥äº†é›†ç¾¤åŒ–çš„éƒ¨ç½²æ¶æ„ï¼ŒæŠŠä¸€ä¸ªã€è½¯ä»¶åº”ç”¨ã€‘åŒæ—¶éƒ¨ç½²åœ¨ã€å¤šå°æœåŠ¡å™¨ã€‘ä¸Šã€‚

## é›†ç¾¤éƒ¨ç½²å¸¦æ¥çš„ä¸¤ä¸ªé—®é¢˜ï¼Ÿ

1. ã€å®¢æˆ·è¯·æ±‚ã€‘å¦‚ä½•å‡åŒ€çš„åˆ†å‘åˆ°ã€å¤šå°ç›®æ ‡æœåŠ¡å™¨ã€‘ä¸Š
2. å¦‚ä½•ã€æ£€æµ‹ã€‘ç›®æ ‡æœåŠ¡å™¨çš„ã€å¥åº·çŠ¶æ€ã€‘ï¼Œä½¿å¾—ã€å®¢æˆ·ç«¯è¯·æ±‚ã€‘ä¸å‘å·²ç»å®•æœºçš„æœåŠ¡å™¨ã€å‘é€è¯·æ±‚ã€‘

## è´Ÿè½½å‡è¡¡çš„æ ¸å¿ƒç›®çš„ï¼Ÿ

å¦‚ä½•è®©ã€clientçš„è¯·æ±‚ã€‘åˆç†åœ°ã€å‡åŒ€åœ°ã€åˆ†å‘åˆ°å¤šå°ã€ç›®æ ‡æœåŠ¡å™¨ã€‘ä¸Šã€‚ç”±äºã€è¯·æ±‚ã€‘è¢«å¤šä¸ª node åˆ†å‘ï¼Œä½¿å¾—ã€æœåŠ¡å™¨ã€‘çš„æ€§èƒ½å¾—åˆ°äº†æœ‰æ•ˆçš„æå‡ã€‚

## å¦‚ä½•å®ç°ã€è´Ÿè½½å‡è¡¡ã€‘ï¼Ÿ

1. è´Ÿè½½å‡è¡¡

åªéœ€è¦åœ¨ã€DNSæœåŠ¡å™¨ä¸Šã€‘ï¼Œé’ˆå¯¹æŸä¸ªã€åŸŸåã€‘åšå¤šä¸ªã€IPæ˜ å°„ã€‘å³å¯ã€‚å½“clienté€šè¿‡ã€åŸŸåã€‘å‘æŸä¸ªç½‘ç«™è®¿é—®çš„æ—¶å€™ï¼Œä¼šå…ˆé€šè¿‡ã€DNSæœåŠ¡å™¨ã€‘è¿›è¡Œã€åŸŸåè§£æã€‘ï¼Œå¾—åˆ°ã€IPåœ°å€ã€‘ï¼Œã€DNSæœåŠ¡å™¨ã€‘ä¼šéšæœºåˆ†é…ä¸€ä¸ªã€IPåœ°å€ã€‘ï¼Œè¿™æ ·å°±èƒ½å®ç°ã€è¯·æ±‚çš„åˆ†å‘ã€‘ã€‚æ­¤å¤–ï¼ŒDNSè¿˜èƒ½å®ç°ã€å°±è¿‘è®¿é—®ã€‘ã€‚

ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œç»´æŠ¤æˆæœ¬ä½
ç¼ºç‚¹ï¼šä¿®æ”¹DNSé…ç½®æ—¶ã€‚ä¼šå› ä¸ºã€ç¼“å­˜ã€‘å¯¼è‡´ã€IPå˜æ›´ã€‘ä¸åŠæ—¶

2. åŸºäº ã€ç¡¬ä»¶ã€‘ å®ç°è´Ÿè½½å‡è¡¡

åŸºäºäº¤æ¢æœº

ä¼˜ç‚¹ï¼šæ”¯æŒå¤šç§è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œæœ‰é˜²ç«å¢™åŠŸèƒ½
ç¼ºç‚¹ï¼šç¡¬ä»¶è´Ÿè½½è®¾å¤‡ï¼Œä»·æ ¼æ¯”è¾ƒè´µ

3. åŸºäº ã€è½¯ä»¶ã€‘ å®ç°è´Ÿè½½å‡è¡¡

å¦‚Nginxã€‚äº’è”ç½‘ä¼ä¸šé‡‡ç”¨

ä¼˜ç‚¹ï¼šå…è´¹ã€å¼€æºã€çµæ´»æ€§é«˜

## CPUé£™é«˜ç³»ç»Ÿååº”æ…¢æ€ä¹ˆæ’æŸ¥ï¼Ÿ

<https://www.bilibili.com/video/BV1nF41147yu>

## LinuxæŸ¥çœ‹å†…å­˜ã€CPUç­‰çŠ¶æ€ï¼ŸLinuxæŸ¥çœ‹è¿›ç¨‹ ã® å†…å­˜æ¶ˆè€—å’ŒCPUæ¶ˆè€—ï¼Ÿ

æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µï¼š`free`

æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼ˆåŒ…æ‹¬CPUã€å†…å­˜ä½¿ç”¨ç­‰ä¿¡æ¯ï¼‰ï¼š`topã€ps`

## ä»€ä¹ˆæ˜¯ã€è™šæ‹Ÿå†…å­˜ã€‘å’Œã€ç‰©ç†å†…å­˜ã€‘

ç‰©ç†å†…å­˜ï¼šã€å†…å­˜æ¡ã€‘å­˜å‚¨å®¹é‡çš„å¤§å°

è™šæ‹Ÿå†…å­˜ï¼šæ˜¯ã€è®¡ç®—æœºå†…å­˜ç®¡ç†æŠ€æœ¯ã€‘ï¼Œå®ƒè®©ç¨‹åºè®¤ä¸ºå®ƒå…·æœ‰ã€è¿ç»­å¯ç”¨ã€‘çš„ã€4GB å†…å­˜ã€‘ï¼Œè€Œå®é™…ä¸Šï¼Œæ˜ å°„åˆ°å¤šä¸ªã€ç‰©ç†å†…å­˜ç¢ç‰‡ã€‘

## sparké‚£äº›å¤–éƒ¨èµ„æº è¿˜æœ‰ç¬¬ä¸‰æ–¹jaråŒ…ä¹‹ç±» ã® éƒ½æ”¾åœ¨å“ªï¼ˆåº”è¯¥æ˜¯è¿™ä¹ˆé—® ã® ï¼Œä¸å¤ªä¼šï¼Œè¯´äº†ä¸‹å†…å­˜ç»“æ„ï¼Œå‘Šè¯‰æˆ‘æ˜¯java classloaderç›¸å…³ ã® æœºåˆ¶ï¼‰

## æ’åºç®—æ³•å’Œæ—¶é—´å¤æ‚åº¦

<https://www.bilibili.com/video/BV1Sg411M7Cr>

## javaæ‰§è¡Œ ã® è¿‡ç¨‹

## javaé›†åˆ

## ä»‹ç»ä¸€ä¸‹jvm ã® åŒºåŸŸ

## java soutï¼ˆ0.1+0.2ï¼‰è¾“å‡ºä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆ

## éšå« ã® å¼ºåˆ¶ç±»å‹è½¬æ¢

<https://www.bilibili.com/video/BV1Fb4y1Y7wX>

## Javaé›†åˆ ã® æ¡†æ¶ä½“ç³»å›¾

## é‡åˆ°oomæ€ä¹ˆæ’æŸ¥ï¼ˆæœ‰jvmæä¾› ã® å·¥å…·æŸ¥çœ‹å †æ ˆä½¿ç”¨æƒ…å†µï¼Œå…·ä½“ä¸å¤ªäº†è§£åªåœ¨è·‘sparké‡åˆ°è¿‡ã€åˆ†äº«äº†ä¸‹sparké‡Œ ã® æ’æŸ¥ç»éªŒå’Œå‚æ•°è°ƒæ•´ï¼‰

## æµè§ˆå™¨ä»urlè¾“å…¥åˆ°è¿”å› ã® æµç¨‹

## 1Tæ–‡ä»¶ï¼Œæ¯è¡Œæ˜¯ä¸€ä¸ªæ•°å­—ï¼Œæœºå™¨128Gå†…å­˜ï¼Œæ±‚top10æ•°å­—

## å¦‚ä½•è¿›è¡Œetlé“¾è·¯ä¼˜åŒ–

## å¦‚æœé“¾è·¯æ…¢ï¼Œä½†æ˜¯æ²¡æœ‰slaé£é™©ï¼Œæ€ä¹ˆä¼˜åŒ–ï¼ˆç±»ä¼¼ä¸Šä¸€é“é¢˜ï¼‰

## æ€ä¹ˆæ•°æ®é“¾è¿è¡Œæ…¢å®šä½é—®é¢˜ï¼Œå¯¹ä»»åŠ¡è¿›è¡Œä¼˜åŒ–

## ç´¢å¼•å¤±æ•ˆåœºæ™¯

<https://www.bilibili.com/video/BV1yr4y1E7Xu>

<https://www.bilibili.com/video/BV1pr4y1p7Ak>

## å¦‚ä½•ä¿è¯MySQLæ•°æ®åº“çš„é«˜å¯ç”¨æ€§ï¼Ÿ

<https://www.bilibili.com/video/BV1aL4y1G7jT>

## å»é‡å¦‚æœä¸ç”¨ set è¿˜æœ‰å¤šå°‘ç§æ–¹å¼ï¼Œæœ‰æ²¡æœ‰æ›´é«˜æ•ˆ ã® æ–¹å¼ï¼Ÿ

## æ€ä¹ˆè§£å†³å¹»è¯» å…·ä½“åœ¨sqlæ˜¯æ€ä¹ˆå®ç° ã®

## ä»€ä¹ˆæ˜¯ã€ä¸€è‡´æ€§ã€‘è¯»ï¼Ÿ

äº‹åŠ¡å¯åŠ¨çš„æ—¶å€™ï¼Œæ ¹æ®ã€æŸä¸ªæ¡ä»¶ã€‘å»ã€è¯»å–æ•°æ®ã€‘ï¼Œç›´åˆ°ã€äº‹åŠ¡ç»“æŸã€‘å†å»æ‰§è¡Œã€ç›¸åŒçš„æ¡ä»¶ã€‘ï¼Œè¿˜æ˜¯è¯»åˆ°ã€åŒä¸€ä»½æ•°æ®ã€‘ï¼Œä¸ä¼šå‘ç”Ÿå˜åŒ–

## 1.1 ç»´åº¦å»ºæ¨¡æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿå¦‚æœä¸šåŠ¡éœ€æ±‚å¢åŠ ä¸€ä¸ªç»´åº¦ï¼Œåç»­éœ€è¦åšå“ªäº›å·¥ä½œï¼Ÿ

1.2 æ€ä¹ˆåˆ¤æ–­ä¸€ä¸ªéœ€æ±‚èƒ½ä¸èƒ½å®ç°ï¼Œä½ ä»¬ ã® åˆ¤æ–­æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿéœ€æ±‚å˜æ›´è¦åšä»€ä¹ˆï¼Ÿ

1.3 å¢åŠ ä¸€ä¸ªç»´åº¦åå‘ç°æŸ¥è¯¢ ã® é€Ÿåº¦å˜å¾—éå¸¸æ…¢ï¼Œæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´ ã® ï¼Ÿ

## linuxä¸‹ ã® è°ƒæŸ¥é—®é¢˜æ€è·¯ï¼šå†…å­˜ã€CPUã€å¥æŸ„æ•°ã€è¿‡æ»¤ã€æŸ¥æ‰¾ã€æ¨¡æ‹ŸPOSTå’ŒGETè¯·æ±‚ç­‰ç­‰åœºæ™¯

1.6 åˆ†è¡¨ä¹‹åæƒ³è®©ä¸€ä¸ªidå¤šä¸ªè¡¨æ˜¯è‡ªå¢ ã® ï¼Œæ•ˆç‡å®ç°

1.7 äº‹ç‰© ã® å››ä¸ªç‰¹æ€§ï¼Œä»¥åŠå„è‡ª ã® ç‰¹ç‚¹ï¼ˆåŸå­ã€éš”ç¦»ï¼‰ç­‰ç­‰ï¼Œé¡¹ç›®æ€ä¹ˆè§£å†³è¿™äº›é—®é¢˜

## ä¸€æ¡sqlè¯­å¥è¿è¡Œæ…¢ï¼Œå¦‚ä½•åšã€‚æ€ä¹ˆå¤„ç†MySQLçš„æ…¢æŸ¥è¯¢ï¼Ÿ

ï¼ˆæ…¢æŸ¥è¯¢ï¼Œçœ‹ç´¢å¼•ï¼Œçœ‹orderbyå’Œgroupbyï¼‰

1. å¼€å¯ã€æ…¢æŸ¥è¯¢ã€‘æ—¥å¿—ï¼Œå‡†ç¡®å®šä½åˆ°ã€æŸä¸ªsqlè¯­å¥ã€‘
2. åˆ†æã€sqlè¯­å¥ã€‘ï¼Œçœ‹çœ‹æ˜¯å¦loadäº†ã€ä¸éœ€è¦çš„åˆ—ã€‘
3. åˆ†æã€æ‰§è¡Œè®¡åˆ’ã€‘ï¼Œçœ‹å…¶ã€ç´¢å¼•ã€‘çš„ä½¿ç”¨æƒ…å†µï¼Œç„¶åä¿®æ”¹ã€è¯­å¥orç´¢å¼•ã€‘ï¼Œä½¿å¾—ã€è¯­å¥ã€‘å°½å¯èƒ½å‘½ä¸­ã€ç´¢å¼•ã€‘
4. å¦‚æœä¸Šè¿°ä¼˜åŒ–ï¼Œè¿˜æ˜¯ä¸å¤Ÿã€‚çœ‹çœ‹è¡¨ä¸­ã€æ•°æ®é‡ã€‘æ˜¯å¦è¿‡å¤§ï¼Œå¯ä»¥ã€æ¨ªå‘orçºµå‘ã€‘åˆ†è¡¨

<https://www.bilibili.com/video/BV1N34y17715>

## ç´¢å¼• ã® è®¾è®¡åŸåˆ™

åœ¨è¿›è¡Œç´¢å¼•è®¾è®¡çš„æ—¶å€™ï¼Œåº”è¯¥ï¼š

1. ç»å¸¸ç”¨äº where æˆ– join çš„åˆ—
2. å°è¡¨æ²¡å¿…è¦å»ºç«‹ç´¢å¼•
3. å»ºç«‹ç´¢å¼•çš„åˆ—æ²¡å¿…è¦å¤ªå¤š
4. é¢‘ç¹æ›´æ–°çš„å­—æ®µä¸è¦æœ‰ç´¢å¼•

<https://www.bilibili.com/video/BV1WB4y1s7kD>

## åˆ†å¸ƒå¼sessionä¸­ç”¨ ã® æ˜¯ä»€ä¹ˆæ•°æ®ç»“æ„

## ç®€è¿° tcp å’Œ udpçš„åŒºåˆ«ï¼Ÿ

tcp å’Œ udp æ˜¯ OSI æ¨¡å‹ä¸­çš„è¿è¾“å±‚ä¸­çš„åè®®ã€‚tcp æä¾›å¯é çš„é€šä¿¡ä¼ è¾“ï¼Œè€Œ udp åˆ™å¸¸è¢«ç”¨äºè®©å¹¿æ’­å’Œç»†èŠ‚æ§åˆ¶äº¤ç»™åº”ç”¨çš„é€šä¿¡ä¼ è¾“ã€‚
ä¸¤è€…çš„åŒºåˆ«å¤§è‡´å¦‚ä¸‹ï¼š

tcp é¢å‘è¿æ¥ï¼Œudp é¢å‘éè¿æ¥å³å‘é€æ•°æ®å‰ä¸éœ€è¦å»ºç«‹é“¾æ¥ï¼›
tcp æä¾›å¯é çš„æœåŠ¡ï¼ˆæ•°æ®ä¼ è¾“ï¼‰ï¼Œudp æ— æ³•ä¿è¯ï¼›
tcp é¢å‘å­—èŠ‚æµï¼Œudp é¢å‘æŠ¥æ–‡ï¼›
tcp æ•°æ®ä¼ è¾“æ…¢ï¼Œudp æ•°æ®ä¼ è¾“å¿«ï¼›

## TCPçš„ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹

<https://www.bilibili.com/video/BV1GT4y1r74W>

## tcp ä¸ºä»€ä¹ˆè¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸¤æ¬¡ä¸è¡Œå—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ

<https://www.bilibili.com/video/BV1xL4y1F7wL>

ã€€æˆ‘ä»¬å‡è®¾Aå’ŒBæ˜¯é€šä¿¡çš„åŒæ–¹ã€‚æˆ‘ç†è§£çš„æ¡æ‰‹å®é™…ä¸Šå°±æ˜¯é€šä¿¡ï¼Œå‘ä¸€æ¬¡ä¿¡æ¯å°±æ˜¯è¿›è¡Œä¸€æ¬¡æ¡æ‰‹ã€‚

ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šAç»™Bæ‰“ç”µè¯è¯´ï¼Œä½ å¯ä»¥å¬åˆ°æˆ‘è¯´è¯å—ï¼Ÿ
ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šBæ”¶åˆ°äº†Açš„ä¿¡æ¯ï¼Œç„¶åå¯¹Aè¯´ï¼šæˆ‘å¯ä»¥å¬å¾—åˆ°ä½ è¯´è¯å•Šï¼Œä½ èƒ½å¬å¾—åˆ°æˆ‘è¯´è¯å—ï¼Ÿ
ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šAæ”¶åˆ°äº†Bçš„ä¿¡æ¯ï¼Œç„¶åè¯´å¯ä»¥çš„ï¼Œæˆ‘è¦ç»™ä½ å‘ä¿¡æ¯å•¦ï¼
åœ¨ä¸‰æ¬¡æ¡æ‰‹ä¹‹åï¼ŒAå’ŒBéƒ½èƒ½ç¡®å®šè¿™ä¹ˆä¸€ä»¶äº‹ï¼šæˆ‘è¯´çš„è¯ï¼Œä½ èƒ½å¬åˆ°ï¼›ä½ è¯´çš„è¯ï¼Œæˆ‘ä¹Ÿèƒ½å¬åˆ°ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥å¼€å§‹æ­£å¸¸é€šä¿¡äº†ã€‚
æ³¨æ„ï¼šHTTPæ˜¯åŸºäºTCPåè®®çš„ï¼Œæ‰€ä»¥æ¯æ¬¡éƒ½æ˜¯å®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼ŒæœåŠ¡å™¨åº”ç­”ï¼Œä½†æ˜¯TCPè¿˜å¯ä»¥ç»™å…¶ä»–åº”ç”¨å±‚æä¾›æœåŠ¡ï¼Œå³å¯èƒ½Aã€Båœ¨å»ºç«‹é“¾æ¥ä¹‹åï¼Œè°éƒ½å¯èƒ½å…ˆå¼€å§‹é€šä¿¡ã€‚

å¦‚æœé‡‡ç”¨ä¸¤æ¬¡æ¡æ‰‹ï¼Œé‚£ä¹ˆåªè¦æœåŠ¡å™¨å‘å‡ºç¡®è®¤æ•°æ®åŒ…å°±ä¼šå»ºç«‹è¿æ¥ï¼Œä½†ç”±äºå®¢æˆ·ç«¯æ­¤æ—¶å¹¶æœªå“åº”æœåŠ¡å™¨ç«¯çš„è¯·æ±‚ï¼Œé‚£æ­¤æ—¶æœåŠ¡å™¨ç«¯å°±ä¼šä¸€ç›´åœ¨ç­‰å¾…å®¢æˆ·ç«¯ï¼Œè¿™æ ·æœåŠ¡å™¨ç«¯å°±ç™½ç™½æµªè´¹äº†ä¸€å®šçš„èµ„æºã€‚è‹¥é‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨ç«¯æ²¡æœ‰æ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯çš„å†æ­¤ç¡®è®¤ï¼Œåˆ™å°±ä¼šçŸ¥é“å®¢æˆ·ç«¯å¹¶æ²¡æœ‰è¦æ±‚å»ºç«‹è¯·æ±‚ï¼Œå°±ä¸ä¼šæµªè´¹æœåŠ¡å™¨çš„èµ„æºã€‚
